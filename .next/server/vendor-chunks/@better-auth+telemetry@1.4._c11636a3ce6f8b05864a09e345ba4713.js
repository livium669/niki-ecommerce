"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@better-auth+telemetry@1.4._c11636a3ce6f8b05864a09e345ba4713";
exports.ids = ["vendor-chunks/@better-auth+telemetry@1.4._c11636a3ce6f8b05864a09e345ba4713"];
exports.modules = {

/***/ "(action-browser)/./node_modules/.pnpm/@better-auth+telemetry@1.4._c11636a3ce6f8b05864a09e345ba4713/node_modules/@better-auth/telemetry/dist/index.mjs":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@better-auth+telemetry@1.4._c11636a3ce6f8b05864a09e345ba4713/node_modules/@better-auth/telemetry/dist/index.mjs ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTelemetry: () => (/* binding */ createTelemetry),\n/* harmony export */   getTelemetryAuthConfig: () => (/* binding */ getTelemetryAuthConfig)\n/* harmony export */ });\n/* harmony import */ var _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @better-auth/core/env */ \"(action-browser)/./node_modules/.pnpm/@better-auth+core@1.4.18_@b_0b2b890b28b8f3380433f58b733d628d/node_modules/@better-auth/core/dist/env/index.mjs\");\n/* harmony import */ var _better_fetch_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @better-fetch/fetch */ \"(action-browser)/./node_modules/.pnpm/@better-fetch+fetch@1.1.21/node_modules/@better-fetch/fetch/dist/index.js\");\n/* harmony import */ var _better_auth_utils_base64__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @better-auth/utils/base64 */ \"(action-browser)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/base64.mjs\");\n/* harmony import */ var _better_auth_utils_hash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @better-auth/utils/hash */ \"(action-browser)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/hash.mjs\");\n/* harmony import */ var _better_auth_utils_random__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @better-auth/utils/random */ \"(action-browser)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/random.mjs\");\n\n\n\n\n\n\n//#region src/detectors/detect-auth-config.ts\nfunction getTelemetryAuthConfig(options, context) {\n\treturn {\n\t\tdatabase: context?.database,\n\t\tadapter: context?.adapter,\n\t\temailVerification: {\n\t\t\tsendVerificationEmail: !!options.emailVerification?.sendVerificationEmail,\n\t\t\tsendOnSignUp: !!options.emailVerification?.sendOnSignUp,\n\t\t\tsendOnSignIn: !!options.emailVerification?.sendOnSignIn,\n\t\t\tautoSignInAfterVerification: !!options.emailVerification?.autoSignInAfterVerification,\n\t\t\texpiresIn: options.emailVerification?.expiresIn,\n\t\t\tonEmailVerification: !!options.emailVerification?.onEmailVerification,\n\t\t\tafterEmailVerification: !!options.emailVerification?.afterEmailVerification\n\t\t},\n\t\temailAndPassword: {\n\t\t\tenabled: !!options.emailAndPassword?.enabled,\n\t\t\tdisableSignUp: !!options.emailAndPassword?.disableSignUp,\n\t\t\trequireEmailVerification: !!options.emailAndPassword?.requireEmailVerification,\n\t\t\tmaxPasswordLength: options.emailAndPassword?.maxPasswordLength,\n\t\t\tminPasswordLength: options.emailAndPassword?.minPasswordLength,\n\t\t\tsendResetPassword: !!options.emailAndPassword?.sendResetPassword,\n\t\t\tresetPasswordTokenExpiresIn: options.emailAndPassword?.resetPasswordTokenExpiresIn,\n\t\t\tonPasswordReset: !!options.emailAndPassword?.onPasswordReset,\n\t\t\tpassword: {\n\t\t\t\thash: !!options.emailAndPassword?.password?.hash,\n\t\t\t\tverify: !!options.emailAndPassword?.password?.verify\n\t\t\t},\n\t\t\tautoSignIn: !!options.emailAndPassword?.autoSignIn,\n\t\t\trevokeSessionsOnPasswordReset: !!options.emailAndPassword?.revokeSessionsOnPasswordReset\n\t\t},\n\t\tsocialProviders: Object.keys(options.socialProviders || {}).map((p) => {\n\t\t\tconst provider = options.socialProviders?.[p];\n\t\t\tif (!provider) return {};\n\t\t\treturn {\n\t\t\t\tid: p,\n\t\t\t\tmapProfileToUser: !!provider.mapProfileToUser,\n\t\t\t\tdisableDefaultScope: !!provider.disableDefaultScope,\n\t\t\t\tdisableIdTokenSignIn: !!provider.disableIdTokenSignIn,\n\t\t\t\tdisableImplicitSignUp: provider.disableImplicitSignUp,\n\t\t\t\tdisableSignUp: provider.disableSignUp,\n\t\t\t\tgetUserInfo: !!provider.getUserInfo,\n\t\t\t\toverrideUserInfoOnSignIn: !!provider.overrideUserInfoOnSignIn,\n\t\t\t\tprompt: provider.prompt,\n\t\t\t\tverifyIdToken: !!provider.verifyIdToken,\n\t\t\t\tscope: provider.scope,\n\t\t\t\trefreshAccessToken: !!provider.refreshAccessToken\n\t\t\t};\n\t\t}),\n\t\tplugins: options.plugins?.map((p) => p.id.toString()),\n\t\tuser: {\n\t\t\tmodelName: options.user?.modelName,\n\t\t\tfields: options.user?.fields,\n\t\t\tadditionalFields: options.user?.additionalFields,\n\t\t\tchangeEmail: {\n\t\t\t\tenabled: options.user?.changeEmail?.enabled,\n\t\t\t\tsendChangeEmailVerification: !!options.user?.changeEmail?.sendChangeEmailVerification\n\t\t\t}\n\t\t},\n\t\tverification: {\n\t\t\tmodelName: options.verification?.modelName,\n\t\t\tdisableCleanup: options.verification?.disableCleanup,\n\t\t\tfields: options.verification?.fields\n\t\t},\n\t\tsession: {\n\t\t\tmodelName: options.session?.modelName,\n\t\t\tadditionalFields: options.session?.additionalFields,\n\t\t\tcookieCache: {\n\t\t\t\tenabled: options.session?.cookieCache?.enabled,\n\t\t\t\tmaxAge: options.session?.cookieCache?.maxAge,\n\t\t\t\tstrategy: options.session?.cookieCache?.strategy\n\t\t\t},\n\t\t\tdisableSessionRefresh: options.session?.disableSessionRefresh,\n\t\t\texpiresIn: options.session?.expiresIn,\n\t\t\tfields: options.session?.fields,\n\t\t\tfreshAge: options.session?.freshAge,\n\t\t\tpreserveSessionInDatabase: options.session?.preserveSessionInDatabase,\n\t\t\tstoreSessionInDatabase: options.session?.storeSessionInDatabase,\n\t\t\tupdateAge: options.session?.updateAge\n\t\t},\n\t\taccount: {\n\t\t\tmodelName: options.account?.modelName,\n\t\t\tfields: options.account?.fields,\n\t\t\tencryptOAuthTokens: options.account?.encryptOAuthTokens,\n\t\t\tupdateAccountOnSignIn: options.account?.updateAccountOnSignIn,\n\t\t\taccountLinking: {\n\t\t\t\tenabled: options.account?.accountLinking?.enabled,\n\t\t\t\ttrustedProviders: options.account?.accountLinking?.trustedProviders,\n\t\t\t\tupdateUserInfoOnLink: options.account?.accountLinking?.updateUserInfoOnLink,\n\t\t\t\tallowUnlinkingAll: options.account?.accountLinking?.allowUnlinkingAll\n\t\t\t}\n\t\t},\n\t\thooks: {\n\t\t\tafter: !!options.hooks?.after,\n\t\t\tbefore: !!options.hooks?.before\n\t\t},\n\t\tsecondaryStorage: !!options.secondaryStorage,\n\t\tadvanced: {\n\t\t\tcookiePrefix: !!options.advanced?.cookiePrefix,\n\t\t\tcookies: !!options.advanced?.cookies,\n\t\t\tcrossSubDomainCookies: {\n\t\t\t\tdomain: !!options.advanced?.crossSubDomainCookies?.domain,\n\t\t\t\tenabled: options.advanced?.crossSubDomainCookies?.enabled,\n\t\t\t\tadditionalCookies: options.advanced?.crossSubDomainCookies?.additionalCookies\n\t\t\t},\n\t\t\tdatabase: {\n\t\t\t\tuseNumberId: !!options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\",\n\t\t\t\tgenerateId: options.advanced?.database?.generateId,\n\t\t\t\tdefaultFindManyLimit: options.advanced?.database?.defaultFindManyLimit\n\t\t\t},\n\t\t\tuseSecureCookies: options.advanced?.useSecureCookies,\n\t\t\tipAddress: {\n\t\t\t\tdisableIpTracking: options.advanced?.ipAddress?.disableIpTracking,\n\t\t\t\tipAddressHeaders: options.advanced?.ipAddress?.ipAddressHeaders\n\t\t\t},\n\t\t\tdisableCSRFCheck: options.advanced?.disableCSRFCheck,\n\t\t\tcookieAttributes: {\n\t\t\t\texpires: options.advanced?.defaultCookieAttributes?.expires,\n\t\t\t\tsecure: options.advanced?.defaultCookieAttributes?.secure,\n\t\t\t\tsameSite: options.advanced?.defaultCookieAttributes?.sameSite,\n\t\t\t\tdomain: !!options.advanced?.defaultCookieAttributes?.domain,\n\t\t\t\tpath: options.advanced?.defaultCookieAttributes?.path,\n\t\t\t\thttpOnly: options.advanced?.defaultCookieAttributes?.httpOnly\n\t\t\t}\n\t\t},\n\t\ttrustedOrigins: options.trustedOrigins?.length,\n\t\trateLimit: {\n\t\t\tstorage: options.rateLimit?.storage,\n\t\t\tmodelName: options.rateLimit?.modelName,\n\t\t\twindow: options.rateLimit?.window,\n\t\t\tcustomStorage: !!options.rateLimit?.customStorage,\n\t\t\tenabled: options.rateLimit?.enabled,\n\t\t\tmax: options.rateLimit?.max\n\t\t},\n\t\tonAPIError: {\n\t\t\terrorURL: options.onAPIError?.errorURL,\n\t\t\tonError: !!options.onAPIError?.onError,\n\t\t\tthrow: options.onAPIError?.throw\n\t\t},\n\t\tlogger: {\n\t\t\tdisabled: options.logger?.disabled,\n\t\t\tlevel: options.logger?.level,\n\t\t\tlog: !!options.logger?.log\n\t\t},\n\t\tdatabaseHooks: {\n\t\t\tuser: {\n\t\t\t\tcreate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.user?.create?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.user?.create?.before\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.user?.update?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.user?.update?.before\n\t\t\t\t}\n\t\t\t},\n\t\t\tsession: {\n\t\t\t\tcreate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.session?.create?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.session?.create?.before\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.session?.update?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.session?.update?.before\n\t\t\t\t}\n\t\t\t},\n\t\t\taccount: {\n\t\t\t\tcreate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.account?.create?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.account?.create?.before\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.account?.update?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.account?.update?.before\n\t\t\t\t}\n\t\t\t},\n\t\t\tverification: {\n\t\t\t\tcreate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.verification?.create?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.verification?.create?.before\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.verification?.update?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.verification?.update?.before\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n//#endregion\n//#region src/utils/package-json.ts\nlet packageJSONCache;\nasync function readRootPackageJson() {\n\tif (packageJSONCache) return packageJSONCache;\n\ttry {\n\t\tconst cwd = typeof process !== \"undefined\" && typeof process.cwd === \"function\" ? process.cwd() : \"\";\n\t\tif (!cwd) return void 0;\n\t\tconst importRuntime$1 = (m) => Function(\"mm\", \"return import(mm)\")(m);\n\t\tconst [{ default: fs }, { default: path }] = await Promise.all([importRuntime$1(\"fs/promises\"), importRuntime$1(\"path\")]);\n\t\tconst raw = await fs.readFile(path.join(cwd, \"package.json\"), \"utf-8\");\n\t\tpackageJSONCache = JSON.parse(raw);\n\t\treturn packageJSONCache;\n\t} catch {}\n}\nasync function getPackageVersion(pkg) {\n\tif (packageJSONCache) return packageJSONCache.dependencies?.[pkg] || packageJSONCache.devDependencies?.[pkg] || packageJSONCache.peerDependencies?.[pkg];\n\ttry {\n\t\tconst cwd = typeof process !== \"undefined\" && typeof process.cwd === \"function\" ? process.cwd() : \"\";\n\t\tif (!cwd) throw new Error(\"no-cwd\");\n\t\tconst importRuntime$1 = (m) => Function(\"mm\", \"return import(mm)\")(m);\n\t\tconst [{ default: fs }, { default: path }] = await Promise.all([importRuntime$1(\"fs/promises\"), importRuntime$1(\"path\")]);\n\t\tconst pkgJsonPath = path.join(cwd, \"node_modules\", pkg, \"package.json\");\n\t\tconst raw = await fs.readFile(pkgJsonPath, \"utf-8\");\n\t\treturn JSON.parse(raw).version || await getVersionFromLocalPackageJson(pkg) || void 0;\n\t} catch {}\n\treturn await getVersionFromLocalPackageJson(pkg);\n}\nasync function getVersionFromLocalPackageJson(pkg) {\n\tconst json = await readRootPackageJson();\n\tif (!json) return void 0;\n\treturn {\n\t\t...json.dependencies,\n\t\t...json.devDependencies,\n\t\t...json.peerDependencies\n\t}[pkg];\n}\nasync function getNameFromLocalPackageJson() {\n\treturn (await readRootPackageJson())?.name;\n}\n\n//#endregion\n//#region src/detectors/detect-database.ts\nconst DATABASES = {\n\tpg: \"postgresql\",\n\tmysql: \"mysql\",\n\tmariadb: \"mariadb\",\n\tsqlite3: \"sqlite\",\n\t\"better-sqlite3\": \"sqlite\",\n\t\"@prisma/client\": \"prisma\",\n\tmongoose: \"mongodb\",\n\tmongodb: \"mongodb\",\n\t\"drizzle-orm\": \"drizzle\"\n};\nasync function detectDatabase() {\n\tfor (const [pkg, name] of Object.entries(DATABASES)) {\n\t\tconst version = await getPackageVersion(pkg);\n\t\tif (version) return {\n\t\t\tname,\n\t\t\tversion\n\t\t};\n\t}\n}\n\n//#endregion\n//#region src/detectors/detect-framework.ts\nconst FRAMEWORKS = {\n\tnext: \"next\",\n\tnuxt: \"nuxt\",\n\t\"@remix-run/server-runtime\": \"remix\",\n\tastro: \"astro\",\n\t\"@sveltejs/kit\": \"sveltekit\",\n\t\"solid-start\": \"solid-start\",\n\t\"tanstack-start\": \"tanstack-start\",\n\thono: \"hono\",\n\texpress: \"express\",\n\telysia: \"elysia\",\n\texpo: \"expo\"\n};\nasync function detectFramework() {\n\tfor (const [pkg, name] of Object.entries(FRAMEWORKS)) {\n\t\tconst version = await getPackageVersion(pkg);\n\t\tif (version) return {\n\t\t\tname,\n\t\t\tversion\n\t\t};\n\t}\n}\n\n//#endregion\n//#region src/detectors/detect-project-info.ts\nfunction detectPackageManager() {\n\tconst userAgent = _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env.npm_config_user_agent;\n\tif (!userAgent) return;\n\tconst pmSpec = userAgent.split(\" \")[0];\n\tconst separatorPos = pmSpec.lastIndexOf(\"/\");\n\tconst name = pmSpec.substring(0, separatorPos);\n\treturn {\n\t\tname: name === \"npminstall\" ? \"cnpm\" : name,\n\t\tversion: pmSpec.substring(separatorPos + 1)\n\t};\n}\n\n//#endregion\n//#region src/utils/import-util.ts\nconst importRuntime = (m) => {\n\treturn Function(\"mm\", \"return import(mm)\")(m);\n};\n\n//#endregion\n//#region src/detectors/detect-system-info.ts\nfunction getVendor() {\n\tconst hasAny = (...keys) => keys.some((k) => Boolean(_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env[k]));\n\tif (hasAny(\"CF_PAGES\", \"CF_PAGES_URL\", \"CF_ACCOUNT_ID\") || typeof navigator !== \"undefined\" && navigator.userAgent === \"Cloudflare-Workers\") return \"cloudflare\";\n\tif (hasAny(\"VERCEL\", \"VERCEL_URL\", \"VERCEL_ENV\")) return \"vercel\";\n\tif (hasAny(\"NETLIFY\", \"NETLIFY_URL\")) return \"netlify\";\n\tif (hasAny(\"RENDER\", \"RENDER_URL\", \"RENDER_INTERNAL_HOSTNAME\", \"RENDER_SERVICE_ID\")) return \"render\";\n\tif (hasAny(\"AWS_LAMBDA_FUNCTION_NAME\", \"AWS_EXECUTION_ENV\", \"LAMBDA_TASK_ROOT\")) return \"aws\";\n\tif (hasAny(\"GOOGLE_CLOUD_FUNCTION_NAME\", \"GOOGLE_CLOUD_PROJECT\", \"GCP_PROJECT\", \"K_SERVICE\")) return \"gcp\";\n\tif (hasAny(\"AZURE_FUNCTION_NAME\", \"FUNCTIONS_WORKER_RUNTIME\", \"WEBSITE_INSTANCE_ID\", \"WEBSITE_SITE_NAME\")) return \"azure\";\n\tif (hasAny(\"DENO_DEPLOYMENT_ID\", \"DENO_REGION\")) return \"deno-deploy\";\n\tif (hasAny(\"FLY_APP_NAME\", \"FLY_REGION\", \"FLY_ALLOC_ID\")) return \"fly-io\";\n\tif (hasAny(\"RAILWAY_STATIC_URL\", \"RAILWAY_ENVIRONMENT_NAME\")) return \"railway\";\n\tif (hasAny(\"DYNO\", \"HEROKU_APP_NAME\")) return \"heroku\";\n\tif (hasAny(\"DO_DEPLOYMENT_ID\", \"DO_APP_NAME\", \"DIGITALOCEAN\")) return \"digitalocean\";\n\tif (hasAny(\"KOYEB\", \"KOYEB_DEPLOYMENT_ID\", \"KOYEB_APP_NAME\")) return \"koyeb\";\n\treturn null;\n}\nasync function detectSystemInfo() {\n\ttry {\n\t\tif (getVendor() === \"cloudflare\") return \"cloudflare\";\n\t\tconst os = await importRuntime(\"os\");\n\t\tconst cpus = os.cpus();\n\t\treturn {\n\t\t\tdeploymentVendor: getVendor(),\n\t\t\tsystemPlatform: os.platform(),\n\t\t\tsystemRelease: os.release(),\n\t\t\tsystemArchitecture: os.arch(),\n\t\t\tcpuCount: cpus.length,\n\t\t\tcpuModel: cpus.length ? cpus[0].model : null,\n\t\t\tcpuSpeed: cpus.length ? cpus[0].speed : null,\n\t\t\tmemory: os.totalmem(),\n\t\t\tisWSL: await isWsl(),\n\t\t\tisDocker: await isDocker(),\n\t\t\tisTTY: typeof process !== \"undefined\" && process.stdout ? process.stdout.isTTY : null\n\t\t};\n\t} catch {\n\t\treturn {\n\t\t\tsystemPlatform: null,\n\t\t\tsystemRelease: null,\n\t\t\tsystemArchitecture: null,\n\t\t\tcpuCount: null,\n\t\t\tcpuModel: null,\n\t\t\tcpuSpeed: null,\n\t\t\tmemory: null,\n\t\t\tisWSL: null,\n\t\t\tisDocker: null,\n\t\t\tisTTY: null\n\t\t};\n\t}\n}\nlet isDockerCached;\nasync function hasDockerEnv() {\n\tif (getVendor() === \"cloudflare\") return false;\n\ttry {\n\t\t(await importRuntime(\"fs\")).statSync(\"/.dockerenv\");\n\t\treturn true;\n\t} catch {\n\t\treturn false;\n\t}\n}\nasync function hasDockerCGroup() {\n\tif (getVendor() === \"cloudflare\") return false;\n\ttry {\n\t\treturn (await importRuntime(\"fs\")).readFileSync(\"/proc/self/cgroup\", \"utf8\").includes(\"docker\");\n\t} catch {\n\t\treturn false;\n\t}\n}\nasync function isDocker() {\n\tif (getVendor() === \"cloudflare\") return false;\n\tif (isDockerCached === void 0) isDockerCached = await hasDockerEnv() || await hasDockerCGroup();\n\treturn isDockerCached;\n}\nasync function isWsl() {\n\ttry {\n\t\tif (getVendor() === \"cloudflare\") return false;\n\t\tif (typeof process === \"undefined\" || process?.platform !== \"linux\") return false;\n\t\tconst fs = await importRuntime(\"fs\");\n\t\tif ((await importRuntime(\"os\")).release().toLowerCase().includes(\"microsoft\")) {\n\t\t\tif (await isInsideContainer()) return false;\n\t\t\treturn true;\n\t\t}\n\t\treturn fs.readFileSync(\"/proc/version\", \"utf8\").toLowerCase().includes(\"microsoft\") ? !await isInsideContainer() : false;\n\t} catch {\n\t\treturn false;\n\t}\n}\nlet isInsideContainerCached;\nconst hasContainerEnv = async () => {\n\tif (getVendor() === \"cloudflare\") return false;\n\ttry {\n\t\t(await importRuntime(\"fs\")).statSync(\"/run/.containerenv\");\n\t\treturn true;\n\t} catch {\n\t\treturn false;\n\t}\n};\nasync function isInsideContainer() {\n\tif (isInsideContainerCached === void 0) isInsideContainerCached = await hasContainerEnv() || await isDocker();\n\treturn isInsideContainerCached;\n}\nfunction isCI() {\n\treturn _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env.CI !== \"false\" && (\"BUILD_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"BUILD_NUMBER\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI_APP_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI_BUILD_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI_BUILD_NUMBER\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI_NAME\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CONTINUOUS_INTEGRATION\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"RUN_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env);\n}\n\n//#endregion\n//#region src/detectors/detect-runtime.ts\nfunction detectRuntime() {\n\tif (typeof Deno !== \"undefined\") return {\n\t\tname: \"deno\",\n\t\tversion: Deno?.version?.deno ?? null\n\t};\n\tif (typeof Bun !== \"undefined\") return {\n\t\tname: \"bun\",\n\t\tversion: Bun?.version ?? null\n\t};\n\tif (typeof process !== \"undefined\" && process?.versions?.node) return {\n\t\tname: \"node\",\n\t\tversion: process.versions.node ?? null\n\t};\n\treturn {\n\t\tname: \"edge\",\n\t\tversion: null\n\t};\n}\nfunction detectEnvironment() {\n\treturn (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getEnvVar)(\"NODE_ENV\") === \"production\" ? \"production\" : isCI() ? \"ci\" : (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.isTest)() ? \"test\" : \"development\";\n}\n\n//#endregion\n//#region src/utils/hash.ts\nasync function hashToBase64(data) {\n\tconst buffer = await (0,_better_auth_utils_hash__WEBPACK_IMPORTED_MODULE_3__.createHash)(\"SHA-256\").digest(data);\n\treturn _better_auth_utils_base64__WEBPACK_IMPORTED_MODULE_2__.base64.encode(buffer);\n}\n\n//#endregion\n//#region src/utils/id.ts\nconst generateId = (size) => {\n\treturn (0,_better_auth_utils_random__WEBPACK_IMPORTED_MODULE_4__.createRandomStringGenerator)(\"a-z\", \"A-Z\", \"0-9\")(size || 32);\n};\n\n//#endregion\n//#region src/project-id.ts\nlet projectIdCached = null;\nasync function getProjectId(baseUrl) {\n\tif (projectIdCached) return projectIdCached;\n\tconst projectName = await getNameFromLocalPackageJson();\n\tif (projectName) {\n\t\tprojectIdCached = await hashToBase64(baseUrl ? baseUrl + projectName : projectName);\n\t\treturn projectIdCached;\n\t}\n\tif (baseUrl) {\n\t\tprojectIdCached = await hashToBase64(baseUrl);\n\t\treturn projectIdCached;\n\t}\n\tprojectIdCached = generateId(32);\n\treturn projectIdCached;\n}\n\n//#endregion\n//#region src/index.ts\nconst noop = async function noop$1() {};\nasync function createTelemetry(options, context) {\n\tconst debugEnabled = options.telemetry?.debug || (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getBooleanEnvVar)(\"BETTER_AUTH_TELEMETRY_DEBUG\", false);\n\tconst telemetryEndpoint = _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.ENV.BETTER_AUTH_TELEMETRY_ENDPOINT;\n\tif (!telemetryEndpoint && !context?.customTrack) return { publish: noop };\n\tconst track = async (event) => {\n\t\tif (context?.customTrack) await context.customTrack(event).catch(_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.logger.error);\n\t\telse if (telemetryEndpoint) if (debugEnabled) _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"telemetry event\", JSON.stringify(event, null, 2));\n\t\telse await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_1__.betterFetch)(telemetryEndpoint, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: event\n\t\t}).catch(_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.logger.error);\n\t};\n\tconst isEnabled = async () => {\n\t\tconst telemetryEnabled = options.telemetry?.enabled !== void 0 ? options.telemetry.enabled : false;\n\t\treturn ((0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getBooleanEnvVar)(\"BETTER_AUTH_TELEMETRY\", false) || telemetryEnabled) && (context?.skipTestCheck || !(0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.isTest)());\n\t};\n\tconst enabled = await isEnabled();\n\tlet anonymousId;\n\tif (enabled) {\n\t\tanonymousId = await getProjectId(options.baseURL);\n\t\ttrack({\n\t\t\ttype: \"init\",\n\t\t\tpayload: {\n\t\t\t\tconfig: getTelemetryAuthConfig(options, context),\n\t\t\t\truntime: detectRuntime(),\n\t\t\t\tdatabase: await detectDatabase(),\n\t\t\t\tframework: await detectFramework(),\n\t\t\t\tenvironment: detectEnvironment(),\n\t\t\t\tsystemInfo: await detectSystemInfo(),\n\t\t\t\tpackageManager: detectPackageManager()\n\t\t\t},\n\t\t\tanonymousId\n\t\t});\n\t}\n\treturn { publish: async (event) => {\n\t\tif (!enabled) return;\n\t\tif (!anonymousId) anonymousId = await getProjectId(options.baseURL);\n\t\tawait track({\n\t\t\ttype: event.type,\n\t\t\tpayload: event.payload,\n\t\t\tanonymousId\n\t\t});\n\t} };\n}\n\n//#endregion\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AYmV0dGVyLWF1dGgrdGVsZW1ldHJ5QDEuNC5fYzExNjM2YTNjZTZmOGIwNTg2NGEwOWUzNDViYTQ3MTMvbm9kZV9tb2R1bGVzL0BiZXR0ZXItYXV0aC90ZWxlbWV0cnkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4RjtBQUM1QztBQUNDO0FBQ0U7QUFDbUI7O0FBRXhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNILDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhLElBQUksZUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWEsSUFBSSxlQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzREFBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsc0RBQUc7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBRyxvQkFBb0Isb0VBQWlCLElBQUksd0VBQXFCLElBQUksOERBQVcsSUFBSSxxRUFBa0IsSUFBSSx1RUFBb0IsSUFBSSwyRUFBd0IsSUFBSSxtRUFBZ0IsSUFBSSxrRkFBK0IsSUFBSSxrRUFBZTtBQUM1Tzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdFQUFTLCtEQUErRCw2REFBTTtBQUN0Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUVBQVU7QUFDaEMsUUFBUSw2REFBTTtBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0ZBQTJCO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsdUVBQWdCO0FBQ2xFLDJCQUEyQixzREFBRztBQUM5QiwyREFBMkQ7QUFDM0Q7QUFDQSxtRUFBbUUseURBQU07QUFDekUsZ0RBQWdELHlEQUFNO0FBQ3RELGFBQWEsZ0VBQVc7QUFDeEI7QUFDQTtBQUNBLEdBQUcsUUFBUSx5REFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVFQUFnQixxRkFBcUYsNkRBQU07QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ21EO0FBQ25EIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERvd25sb2Fkc1xcbmlraS1wcmVtaXVtLS0tY2luZW1hdGljLWZvb3R3ZWFyXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAYmV0dGVyLWF1dGgrdGVsZW1ldHJ5QDEuNC5fYzExNjM2YTNjZTZmOGIwNTg2NGEwOWUzNDViYTQ3MTNcXG5vZGVfbW9kdWxlc1xcQGJldHRlci1hdXRoXFx0ZWxlbWV0cnlcXGRpc3RcXGluZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFTlYsIGVudiwgZ2V0Qm9vbGVhbkVudlZhciwgZ2V0RW52VmFyLCBpc1Rlc3QsIGxvZ2dlciB9IGZyb20gXCJAYmV0dGVyLWF1dGgvY29yZS9lbnZcIjtcbmltcG9ydCB7IGJldHRlckZldGNoIH0gZnJvbSBcIkBiZXR0ZXItZmV0Y2gvZmV0Y2hcIjtcbmltcG9ydCB7IGJhc2U2NCB9IGZyb20gXCJAYmV0dGVyLWF1dGgvdXRpbHMvYmFzZTY0XCI7XG5pbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSBcIkBiZXR0ZXItYXV0aC91dGlscy9oYXNoXCI7XG5pbXBvcnQgeyBjcmVhdGVSYW5kb21TdHJpbmdHZW5lcmF0b3IgfSBmcm9tIFwiQGJldHRlci1hdXRoL3V0aWxzL3JhbmRvbVwiO1xuXG4vLyNyZWdpb24gc3JjL2RldGVjdG9ycy9kZXRlY3QtYXV0aC1jb25maWcudHNcbmZ1bmN0aW9uIGdldFRlbGVtZXRyeUF1dGhDb25maWcob3B0aW9ucywgY29udGV4dCkge1xuXHRyZXR1cm4ge1xuXHRcdGRhdGFiYXNlOiBjb250ZXh0Py5kYXRhYmFzZSxcblx0XHRhZGFwdGVyOiBjb250ZXh0Py5hZGFwdGVyLFxuXHRcdGVtYWlsVmVyaWZpY2F0aW9uOiB7XG5cdFx0XHRzZW5kVmVyaWZpY2F0aW9uRW1haWw6ICEhb3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uc2VuZFZlcmlmaWNhdGlvbkVtYWlsLFxuXHRcdFx0c2VuZE9uU2lnblVwOiAhIW9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LnNlbmRPblNpZ25VcCxcblx0XHRcdHNlbmRPblNpZ25JbjogISFvcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uPy5zZW5kT25TaWduSW4sXG5cdFx0XHRhdXRvU2lnbkluQWZ0ZXJWZXJpZmljYXRpb246ICEhb3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uYXV0b1NpZ25JbkFmdGVyVmVyaWZpY2F0aW9uLFxuXHRcdFx0ZXhwaXJlc0luOiBvcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uPy5leHBpcmVzSW4sXG5cdFx0XHRvbkVtYWlsVmVyaWZpY2F0aW9uOiAhIW9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/Lm9uRW1haWxWZXJpZmljYXRpb24sXG5cdFx0XHRhZnRlckVtYWlsVmVyaWZpY2F0aW9uOiAhIW9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LmFmdGVyRW1haWxWZXJpZmljYXRpb25cblx0XHR9LFxuXHRcdGVtYWlsQW5kUGFzc3dvcmQ6IHtcblx0XHRcdGVuYWJsZWQ6ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5lbmFibGVkLFxuXHRcdFx0ZGlzYWJsZVNpZ25VcDogISFvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/LmRpc2FibGVTaWduVXAsXG5cdFx0XHRyZXF1aXJlRW1haWxWZXJpZmljYXRpb246ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5yZXF1aXJlRW1haWxWZXJpZmljYXRpb24sXG5cdFx0XHRtYXhQYXNzd29yZExlbmd0aDogb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5tYXhQYXNzd29yZExlbmd0aCxcblx0XHRcdG1pblBhc3N3b3JkTGVuZ3RoOiBvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/Lm1pblBhc3N3b3JkTGVuZ3RoLFxuXHRcdFx0c2VuZFJlc2V0UGFzc3dvcmQ6ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5zZW5kUmVzZXRQYXNzd29yZCxcblx0XHRcdHJlc2V0UGFzc3dvcmRUb2tlbkV4cGlyZXNJbjogb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5yZXNldFBhc3N3b3JkVG9rZW5FeHBpcmVzSW4sXG5cdFx0XHRvblBhc3N3b3JkUmVzZXQ6ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5vblBhc3N3b3JkUmVzZXQsXG5cdFx0XHRwYXNzd29yZDoge1xuXHRcdFx0XHRoYXNoOiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8ucGFzc3dvcmQ/Lmhhc2gsXG5cdFx0XHRcdHZlcmlmeTogISFvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/LnBhc3N3b3JkPy52ZXJpZnlcblx0XHRcdH0sXG5cdFx0XHRhdXRvU2lnbkluOiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8uYXV0b1NpZ25Jbixcblx0XHRcdHJldm9rZVNlc3Npb25zT25QYXNzd29yZFJlc2V0OiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8ucmV2b2tlU2Vzc2lvbnNPblBhc3N3b3JkUmVzZXRcblx0XHR9LFxuXHRcdHNvY2lhbFByb3ZpZGVyczogT2JqZWN0LmtleXMob3B0aW9ucy5zb2NpYWxQcm92aWRlcnMgfHwge30pLm1hcCgocCkgPT4ge1xuXHRcdFx0Y29uc3QgcHJvdmlkZXIgPSBvcHRpb25zLnNvY2lhbFByb3ZpZGVycz8uW3BdO1xuXHRcdFx0aWYgKCFwcm92aWRlcikgcmV0dXJuIHt9O1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aWQ6IHAsXG5cdFx0XHRcdG1hcFByb2ZpbGVUb1VzZXI6ICEhcHJvdmlkZXIubWFwUHJvZmlsZVRvVXNlcixcblx0XHRcdFx0ZGlzYWJsZURlZmF1bHRTY29wZTogISFwcm92aWRlci5kaXNhYmxlRGVmYXVsdFNjb3BlLFxuXHRcdFx0XHRkaXNhYmxlSWRUb2tlblNpZ25JbjogISFwcm92aWRlci5kaXNhYmxlSWRUb2tlblNpZ25Jbixcblx0XHRcdFx0ZGlzYWJsZUltcGxpY2l0U2lnblVwOiBwcm92aWRlci5kaXNhYmxlSW1wbGljaXRTaWduVXAsXG5cdFx0XHRcdGRpc2FibGVTaWduVXA6IHByb3ZpZGVyLmRpc2FibGVTaWduVXAsXG5cdFx0XHRcdGdldFVzZXJJbmZvOiAhIXByb3ZpZGVyLmdldFVzZXJJbmZvLFxuXHRcdFx0XHRvdmVycmlkZVVzZXJJbmZvT25TaWduSW46ICEhcHJvdmlkZXIub3ZlcnJpZGVVc2VySW5mb09uU2lnbkluLFxuXHRcdFx0XHRwcm9tcHQ6IHByb3ZpZGVyLnByb21wdCxcblx0XHRcdFx0dmVyaWZ5SWRUb2tlbjogISFwcm92aWRlci52ZXJpZnlJZFRva2VuLFxuXHRcdFx0XHRzY29wZTogcHJvdmlkZXIuc2NvcGUsXG5cdFx0XHRcdHJlZnJlc2hBY2Nlc3NUb2tlbjogISFwcm92aWRlci5yZWZyZXNoQWNjZXNzVG9rZW5cblx0XHRcdH07XG5cdFx0fSksXG5cdFx0cGx1Z2luczogb3B0aW9ucy5wbHVnaW5zPy5tYXAoKHApID0+IHAuaWQudG9TdHJpbmcoKSksXG5cdFx0dXNlcjoge1xuXHRcdFx0bW9kZWxOYW1lOiBvcHRpb25zLnVzZXI/Lm1vZGVsTmFtZSxcblx0XHRcdGZpZWxkczogb3B0aW9ucy51c2VyPy5maWVsZHMsXG5cdFx0XHRhZGRpdGlvbmFsRmllbGRzOiBvcHRpb25zLnVzZXI/LmFkZGl0aW9uYWxGaWVsZHMsXG5cdFx0XHRjaGFuZ2VFbWFpbDoge1xuXHRcdFx0XHRlbmFibGVkOiBvcHRpb25zLnVzZXI/LmNoYW5nZUVtYWlsPy5lbmFibGVkLFxuXHRcdFx0XHRzZW5kQ2hhbmdlRW1haWxWZXJpZmljYXRpb246ICEhb3B0aW9ucy51c2VyPy5jaGFuZ2VFbWFpbD8uc2VuZENoYW5nZUVtYWlsVmVyaWZpY2F0aW9uXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR2ZXJpZmljYXRpb246IHtcblx0XHRcdG1vZGVsTmFtZTogb3B0aW9ucy52ZXJpZmljYXRpb24/Lm1vZGVsTmFtZSxcblx0XHRcdGRpc2FibGVDbGVhbnVwOiBvcHRpb25zLnZlcmlmaWNhdGlvbj8uZGlzYWJsZUNsZWFudXAsXG5cdFx0XHRmaWVsZHM6IG9wdGlvbnMudmVyaWZpY2F0aW9uPy5maWVsZHNcblx0XHR9LFxuXHRcdHNlc3Npb246IHtcblx0XHRcdG1vZGVsTmFtZTogb3B0aW9ucy5zZXNzaW9uPy5tb2RlbE5hbWUsXG5cdFx0XHRhZGRpdGlvbmFsRmllbGRzOiBvcHRpb25zLnNlc3Npb24/LmFkZGl0aW9uYWxGaWVsZHMsXG5cdFx0XHRjb29raWVDYWNoZToge1xuXHRcdFx0XHRlbmFibGVkOiBvcHRpb25zLnNlc3Npb24/LmNvb2tpZUNhY2hlPy5lbmFibGVkLFxuXHRcdFx0XHRtYXhBZ2U6IG9wdGlvbnMuc2Vzc2lvbj8uY29va2llQ2FjaGU/Lm1heEFnZSxcblx0XHRcdFx0c3RyYXRlZ3k6IG9wdGlvbnMuc2Vzc2lvbj8uY29va2llQ2FjaGU/LnN0cmF0ZWd5XG5cdFx0XHR9LFxuXHRcdFx0ZGlzYWJsZVNlc3Npb25SZWZyZXNoOiBvcHRpb25zLnNlc3Npb24/LmRpc2FibGVTZXNzaW9uUmVmcmVzaCxcblx0XHRcdGV4cGlyZXNJbjogb3B0aW9ucy5zZXNzaW9uPy5leHBpcmVzSW4sXG5cdFx0XHRmaWVsZHM6IG9wdGlvbnMuc2Vzc2lvbj8uZmllbGRzLFxuXHRcdFx0ZnJlc2hBZ2U6IG9wdGlvbnMuc2Vzc2lvbj8uZnJlc2hBZ2UsXG5cdFx0XHRwcmVzZXJ2ZVNlc3Npb25JbkRhdGFiYXNlOiBvcHRpb25zLnNlc3Npb24/LnByZXNlcnZlU2Vzc2lvbkluRGF0YWJhc2UsXG5cdFx0XHRzdG9yZVNlc3Npb25JbkRhdGFiYXNlOiBvcHRpb25zLnNlc3Npb24/LnN0b3JlU2Vzc2lvbkluRGF0YWJhc2UsXG5cdFx0XHR1cGRhdGVBZ2U6IG9wdGlvbnMuc2Vzc2lvbj8udXBkYXRlQWdlXG5cdFx0fSxcblx0XHRhY2NvdW50OiB7XG5cdFx0XHRtb2RlbE5hbWU6IG9wdGlvbnMuYWNjb3VudD8ubW9kZWxOYW1lLFxuXHRcdFx0ZmllbGRzOiBvcHRpb25zLmFjY291bnQ/LmZpZWxkcyxcblx0XHRcdGVuY3J5cHRPQXV0aFRva2Vuczogb3B0aW9ucy5hY2NvdW50Py5lbmNyeXB0T0F1dGhUb2tlbnMsXG5cdFx0XHR1cGRhdGVBY2NvdW50T25TaWduSW46IG9wdGlvbnMuYWNjb3VudD8udXBkYXRlQWNjb3VudE9uU2lnbkluLFxuXHRcdFx0YWNjb3VudExpbmtpbmc6IHtcblx0XHRcdFx0ZW5hYmxlZDogb3B0aW9ucy5hY2NvdW50Py5hY2NvdW50TGlua2luZz8uZW5hYmxlZCxcblx0XHRcdFx0dHJ1c3RlZFByb3ZpZGVyczogb3B0aW9ucy5hY2NvdW50Py5hY2NvdW50TGlua2luZz8udHJ1c3RlZFByb3ZpZGVycyxcblx0XHRcdFx0dXBkYXRlVXNlckluZm9Pbkxpbms6IG9wdGlvbnMuYWNjb3VudD8uYWNjb3VudExpbmtpbmc/LnVwZGF0ZVVzZXJJbmZvT25MaW5rLFxuXHRcdFx0XHRhbGxvd1VubGlua2luZ0FsbDogb3B0aW9ucy5hY2NvdW50Py5hY2NvdW50TGlua2luZz8uYWxsb3dVbmxpbmtpbmdBbGxcblx0XHRcdH1cblx0XHR9LFxuXHRcdGhvb2tzOiB7XG5cdFx0XHRhZnRlcjogISFvcHRpb25zLmhvb2tzPy5hZnRlcixcblx0XHRcdGJlZm9yZTogISFvcHRpb25zLmhvb2tzPy5iZWZvcmVcblx0XHR9LFxuXHRcdHNlY29uZGFyeVN0b3JhZ2U6ICEhb3B0aW9ucy5zZWNvbmRhcnlTdG9yYWdlLFxuXHRcdGFkdmFuY2VkOiB7XG5cdFx0XHRjb29raWVQcmVmaXg6ICEhb3B0aW9ucy5hZHZhbmNlZD8uY29va2llUHJlZml4LFxuXHRcdFx0Y29va2llczogISFvcHRpb25zLmFkdmFuY2VkPy5jb29raWVzLFxuXHRcdFx0Y3Jvc3NTdWJEb21haW5Db29raWVzOiB7XG5cdFx0XHRcdGRvbWFpbjogISFvcHRpb25zLmFkdmFuY2VkPy5jcm9zc1N1YkRvbWFpbkNvb2tpZXM/LmRvbWFpbixcblx0XHRcdFx0ZW5hYmxlZDogb3B0aW9ucy5hZHZhbmNlZD8uY3Jvc3NTdWJEb21haW5Db29raWVzPy5lbmFibGVkLFxuXHRcdFx0XHRhZGRpdGlvbmFsQ29va2llczogb3B0aW9ucy5hZHZhbmNlZD8uY3Jvc3NTdWJEb21haW5Db29raWVzPy5hZGRpdGlvbmFsQ29va2llc1xuXHRcdFx0fSxcblx0XHRcdGRhdGFiYXNlOiB7XG5cdFx0XHRcdHVzZU51bWJlcklkOiAhIW9wdGlvbnMuYWR2YW5jZWQ/LmRhdGFiYXNlPy51c2VOdW1iZXJJZCB8fCBvcHRpb25zLmFkdmFuY2VkPy5kYXRhYmFzZT8uZ2VuZXJhdGVJZCA9PT0gXCJzZXJpYWxcIixcblx0XHRcdFx0Z2VuZXJhdGVJZDogb3B0aW9ucy5hZHZhbmNlZD8uZGF0YWJhc2U/LmdlbmVyYXRlSWQsXG5cdFx0XHRcdGRlZmF1bHRGaW5kTWFueUxpbWl0OiBvcHRpb25zLmFkdmFuY2VkPy5kYXRhYmFzZT8uZGVmYXVsdEZpbmRNYW55TGltaXRcblx0XHRcdH0sXG5cdFx0XHR1c2VTZWN1cmVDb29raWVzOiBvcHRpb25zLmFkdmFuY2VkPy51c2VTZWN1cmVDb29raWVzLFxuXHRcdFx0aXBBZGRyZXNzOiB7XG5cdFx0XHRcdGRpc2FibGVJcFRyYWNraW5nOiBvcHRpb25zLmFkdmFuY2VkPy5pcEFkZHJlc3M/LmRpc2FibGVJcFRyYWNraW5nLFxuXHRcdFx0XHRpcEFkZHJlc3NIZWFkZXJzOiBvcHRpb25zLmFkdmFuY2VkPy5pcEFkZHJlc3M/LmlwQWRkcmVzc0hlYWRlcnNcblx0XHRcdH0sXG5cdFx0XHRkaXNhYmxlQ1NSRkNoZWNrOiBvcHRpb25zLmFkdmFuY2VkPy5kaXNhYmxlQ1NSRkNoZWNrLFxuXHRcdFx0Y29va2llQXR0cmlidXRlczoge1xuXHRcdFx0XHRleHBpcmVzOiBvcHRpb25zLmFkdmFuY2VkPy5kZWZhdWx0Q29va2llQXR0cmlidXRlcz8uZXhwaXJlcyxcblx0XHRcdFx0c2VjdXJlOiBvcHRpb25zLmFkdmFuY2VkPy5kZWZhdWx0Q29va2llQXR0cmlidXRlcz8uc2VjdXJlLFxuXHRcdFx0XHRzYW1lU2l0ZTogb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/LnNhbWVTaXRlLFxuXHRcdFx0XHRkb21haW46ICEhb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/LmRvbWFpbixcblx0XHRcdFx0cGF0aDogb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/LnBhdGgsXG5cdFx0XHRcdGh0dHBPbmx5OiBvcHRpb25zLmFkdmFuY2VkPy5kZWZhdWx0Q29va2llQXR0cmlidXRlcz8uaHR0cE9ubHlcblx0XHRcdH1cblx0XHR9LFxuXHRcdHRydXN0ZWRPcmlnaW5zOiBvcHRpb25zLnRydXN0ZWRPcmlnaW5zPy5sZW5ndGgsXG5cdFx0cmF0ZUxpbWl0OiB7XG5cdFx0XHRzdG9yYWdlOiBvcHRpb25zLnJhdGVMaW1pdD8uc3RvcmFnZSxcblx0XHRcdG1vZGVsTmFtZTogb3B0aW9ucy5yYXRlTGltaXQ/Lm1vZGVsTmFtZSxcblx0XHRcdHdpbmRvdzogb3B0aW9ucy5yYXRlTGltaXQ/LndpbmRvdyxcblx0XHRcdGN1c3RvbVN0b3JhZ2U6ICEhb3B0aW9ucy5yYXRlTGltaXQ/LmN1c3RvbVN0b3JhZ2UsXG5cdFx0XHRlbmFibGVkOiBvcHRpb25zLnJhdGVMaW1pdD8uZW5hYmxlZCxcblx0XHRcdG1heDogb3B0aW9ucy5yYXRlTGltaXQ/Lm1heFxuXHRcdH0sXG5cdFx0b25BUElFcnJvcjoge1xuXHRcdFx0ZXJyb3JVUkw6IG9wdGlvbnMub25BUElFcnJvcj8uZXJyb3JVUkwsXG5cdFx0XHRvbkVycm9yOiAhIW9wdGlvbnMub25BUElFcnJvcj8ub25FcnJvcixcblx0XHRcdHRocm93OiBvcHRpb25zLm9uQVBJRXJyb3I/LnRocm93XG5cdFx0fSxcblx0XHRsb2dnZXI6IHtcblx0XHRcdGRpc2FibGVkOiBvcHRpb25zLmxvZ2dlcj8uZGlzYWJsZWQsXG5cdFx0XHRsZXZlbDogb3B0aW9ucy5sb2dnZXI/LmxldmVsLFxuXHRcdFx0bG9nOiAhIW9wdGlvbnMubG9nZ2VyPy5sb2dcblx0XHR9LFxuXHRcdGRhdGFiYXNlSG9va3M6IHtcblx0XHRcdHVzZXI6IHtcblx0XHRcdFx0Y3JlYXRlOiB7XG5cdFx0XHRcdFx0YWZ0ZXI6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy51c2VyPy5jcmVhdGU/LmFmdGVyLFxuXHRcdFx0XHRcdGJlZm9yZTogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnVzZXI/LmNyZWF0ZT8uYmVmb3JlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHVwZGF0ZToge1xuXHRcdFx0XHRcdGFmdGVyOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8udXNlcj8udXBkYXRlPy5hZnRlcixcblx0XHRcdFx0XHRiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy51c2VyPy51cGRhdGU/LmJlZm9yZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0c2Vzc2lvbjoge1xuXHRcdFx0XHRjcmVhdGU6IHtcblx0XHRcdFx0XHRhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnNlc3Npb24/LmNyZWF0ZT8uYWZ0ZXIsXG5cdFx0XHRcdFx0YmVmb3JlOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8uc2Vzc2lvbj8uY3JlYXRlPy5iZWZvcmVcblx0XHRcdFx0fSxcblx0XHRcdFx0dXBkYXRlOiB7XG5cdFx0XHRcdFx0YWZ0ZXI6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy5zZXNzaW9uPy51cGRhdGU/LmFmdGVyLFxuXHRcdFx0XHRcdGJlZm9yZTogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnNlc3Npb24/LnVwZGF0ZT8uYmVmb3JlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRhY2NvdW50OiB7XG5cdFx0XHRcdGNyZWF0ZToge1xuXHRcdFx0XHRcdGFmdGVyOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8uYWNjb3VudD8uY3JlYXRlPy5hZnRlcixcblx0XHRcdFx0XHRiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy5hY2NvdW50Py5jcmVhdGU/LmJlZm9yZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR1cGRhdGU6IHtcblx0XHRcdFx0XHRhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LmFjY291bnQ/LnVwZGF0ZT8uYWZ0ZXIsXG5cdFx0XHRcdFx0YmVmb3JlOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8uYWNjb3VudD8udXBkYXRlPy5iZWZvcmVcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHZlcmlmaWNhdGlvbjoge1xuXHRcdFx0XHRjcmVhdGU6IHtcblx0XHRcdFx0XHRhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnZlcmlmaWNhdGlvbj8uY3JlYXRlPy5hZnRlcixcblx0XHRcdFx0XHRiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy52ZXJpZmljYXRpb24/LmNyZWF0ZT8uYmVmb3JlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHVwZGF0ZToge1xuXHRcdFx0XHRcdGFmdGVyOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8udmVyaWZpY2F0aW9uPy51cGRhdGU/LmFmdGVyLFxuXHRcdFx0XHRcdGJlZm9yZTogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnZlcmlmaWNhdGlvbj8udXBkYXRlPy5iZWZvcmVcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL3V0aWxzL3BhY2thZ2UtanNvbi50c1xubGV0IHBhY2thZ2VKU09OQ2FjaGU7XG5hc3luYyBmdW5jdGlvbiByZWFkUm9vdFBhY2thZ2VKc29uKCkge1xuXHRpZiAocGFja2FnZUpTT05DYWNoZSkgcmV0dXJuIHBhY2thZ2VKU09OQ2FjaGU7XG5cdHRyeSB7XG5cdFx0Y29uc3QgY3dkID0gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHByb2Nlc3MuY3dkID09PSBcImZ1bmN0aW9uXCIgPyBwcm9jZXNzLmN3ZCgpIDogXCJcIjtcblx0XHRpZiAoIWN3ZCkgcmV0dXJuIHZvaWQgMDtcblx0XHRjb25zdCBpbXBvcnRSdW50aW1lJDEgPSAobSkgPT4gRnVuY3Rpb24oXCJtbVwiLCBcInJldHVybiBpbXBvcnQobW0pXCIpKG0pO1xuXHRcdGNvbnN0IFt7IGRlZmF1bHQ6IGZzIH0sIHsgZGVmYXVsdDogcGF0aCB9XSA9IGF3YWl0IFByb21pc2UuYWxsKFtpbXBvcnRSdW50aW1lJDEoXCJmcy9wcm9taXNlc1wiKSwgaW1wb3J0UnVudGltZSQxKFwicGF0aFwiKV0pO1xuXHRcdGNvbnN0IHJhdyA9IGF3YWl0IGZzLnJlYWRGaWxlKHBhdGguam9pbihjd2QsIFwicGFja2FnZS5qc29uXCIpLCBcInV0Zi04XCIpO1xuXHRcdHBhY2thZ2VKU09OQ2FjaGUgPSBKU09OLnBhcnNlKHJhdyk7XG5cdFx0cmV0dXJuIHBhY2thZ2VKU09OQ2FjaGU7XG5cdH0gY2F0Y2gge31cbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFBhY2thZ2VWZXJzaW9uKHBrZykge1xuXHRpZiAocGFja2FnZUpTT05DYWNoZSkgcmV0dXJuIHBhY2thZ2VKU09OQ2FjaGUuZGVwZW5kZW5jaWVzPy5bcGtnXSB8fCBwYWNrYWdlSlNPTkNhY2hlLmRldkRlcGVuZGVuY2llcz8uW3BrZ10gfHwgcGFja2FnZUpTT05DYWNoZS5wZWVyRGVwZW5kZW5jaWVzPy5bcGtnXTtcblx0dHJ5IHtcblx0XHRjb25zdCBjd2QgPSB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcHJvY2Vzcy5jd2QgPT09IFwiZnVuY3Rpb25cIiA/IHByb2Nlc3MuY3dkKCkgOiBcIlwiO1xuXHRcdGlmICghY3dkKSB0aHJvdyBuZXcgRXJyb3IoXCJuby1jd2RcIik7XG5cdFx0Y29uc3QgaW1wb3J0UnVudGltZSQxID0gKG0pID0+IEZ1bmN0aW9uKFwibW1cIiwgXCJyZXR1cm4gaW1wb3J0KG1tKVwiKShtKTtcblx0XHRjb25zdCBbeyBkZWZhdWx0OiBmcyB9LCB7IGRlZmF1bHQ6IHBhdGggfV0gPSBhd2FpdCBQcm9taXNlLmFsbChbaW1wb3J0UnVudGltZSQxKFwiZnMvcHJvbWlzZXNcIiksIGltcG9ydFJ1bnRpbWUkMShcInBhdGhcIildKTtcblx0XHRjb25zdCBwa2dKc29uUGF0aCA9IHBhdGguam9pbihjd2QsIFwibm9kZV9tb2R1bGVzXCIsIHBrZywgXCJwYWNrYWdlLmpzb25cIik7XG5cdFx0Y29uc3QgcmF3ID0gYXdhaXQgZnMucmVhZEZpbGUocGtnSnNvblBhdGgsIFwidXRmLThcIik7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UocmF3KS52ZXJzaW9uIHx8IGF3YWl0IGdldFZlcnNpb25Gcm9tTG9jYWxQYWNrYWdlSnNvbihwa2cpIHx8IHZvaWQgMDtcblx0fSBjYXRjaCB7fVxuXHRyZXR1cm4gYXdhaXQgZ2V0VmVyc2lvbkZyb21Mb2NhbFBhY2thZ2VKc29uKHBrZyk7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRWZXJzaW9uRnJvbUxvY2FsUGFja2FnZUpzb24ocGtnKSB7XG5cdGNvbnN0IGpzb24gPSBhd2FpdCByZWFkUm9vdFBhY2thZ2VKc29uKCk7XG5cdGlmICghanNvbikgcmV0dXJuIHZvaWQgMDtcblx0cmV0dXJuIHtcblx0XHQuLi5qc29uLmRlcGVuZGVuY2llcyxcblx0XHQuLi5qc29uLmRldkRlcGVuZGVuY2llcyxcblx0XHQuLi5qc29uLnBlZXJEZXBlbmRlbmNpZXNcblx0fVtwa2ddO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0TmFtZUZyb21Mb2NhbFBhY2thZ2VKc29uKCkge1xuXHRyZXR1cm4gKGF3YWl0IHJlYWRSb290UGFja2FnZUpzb24oKSk/Lm5hbWU7XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9kZXRlY3RvcnMvZGV0ZWN0LWRhdGFiYXNlLnRzXG5jb25zdCBEQVRBQkFTRVMgPSB7XG5cdHBnOiBcInBvc3RncmVzcWxcIixcblx0bXlzcWw6IFwibXlzcWxcIixcblx0bWFyaWFkYjogXCJtYXJpYWRiXCIsXG5cdHNxbGl0ZTM6IFwic3FsaXRlXCIsXG5cdFwiYmV0dGVyLXNxbGl0ZTNcIjogXCJzcWxpdGVcIixcblx0XCJAcHJpc21hL2NsaWVudFwiOiBcInByaXNtYVwiLFxuXHRtb25nb29zZTogXCJtb25nb2RiXCIsXG5cdG1vbmdvZGI6IFwibW9uZ29kYlwiLFxuXHRcImRyaXp6bGUtb3JtXCI6IFwiZHJpenpsZVwiXG59O1xuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0RGF0YWJhc2UoKSB7XG5cdGZvciAoY29uc3QgW3BrZywgbmFtZV0gb2YgT2JqZWN0LmVudHJpZXMoREFUQUJBU0VTKSkge1xuXHRcdGNvbnN0IHZlcnNpb24gPSBhd2FpdCBnZXRQYWNrYWdlVmVyc2lvbihwa2cpO1xuXHRcdGlmICh2ZXJzaW9uKSByZXR1cm4ge1xuXHRcdFx0bmFtZSxcblx0XHRcdHZlcnNpb25cblx0XHR9O1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9kZXRlY3RvcnMvZGV0ZWN0LWZyYW1ld29yay50c1xuY29uc3QgRlJBTUVXT1JLUyA9IHtcblx0bmV4dDogXCJuZXh0XCIsXG5cdG51eHQ6IFwibnV4dFwiLFxuXHRcIkByZW1peC1ydW4vc2VydmVyLXJ1bnRpbWVcIjogXCJyZW1peFwiLFxuXHRhc3RybzogXCJhc3Ryb1wiLFxuXHRcIkBzdmVsdGVqcy9raXRcIjogXCJzdmVsdGVraXRcIixcblx0XCJzb2xpZC1zdGFydFwiOiBcInNvbGlkLXN0YXJ0XCIsXG5cdFwidGFuc3RhY2stc3RhcnRcIjogXCJ0YW5zdGFjay1zdGFydFwiLFxuXHRob25vOiBcImhvbm9cIixcblx0ZXhwcmVzczogXCJleHByZXNzXCIsXG5cdGVseXNpYTogXCJlbHlzaWFcIixcblx0ZXhwbzogXCJleHBvXCJcbn07XG5hc3luYyBmdW5jdGlvbiBkZXRlY3RGcmFtZXdvcmsoKSB7XG5cdGZvciAoY29uc3QgW3BrZywgbmFtZV0gb2YgT2JqZWN0LmVudHJpZXMoRlJBTUVXT1JLUykpIHtcblx0XHRjb25zdCB2ZXJzaW9uID0gYXdhaXQgZ2V0UGFja2FnZVZlcnNpb24ocGtnKTtcblx0XHRpZiAodmVyc2lvbikgcmV0dXJuIHtcblx0XHRcdG5hbWUsXG5cdFx0XHR2ZXJzaW9uXG5cdFx0fTtcblx0fVxufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvZGV0ZWN0b3JzL2RldGVjdC1wcm9qZWN0LWluZm8udHNcbmZ1bmN0aW9uIGRldGVjdFBhY2thZ2VNYW5hZ2VyKCkge1xuXHRjb25zdCB1c2VyQWdlbnQgPSBlbnYubnBtX2NvbmZpZ191c2VyX2FnZW50O1xuXHRpZiAoIXVzZXJBZ2VudCkgcmV0dXJuO1xuXHRjb25zdCBwbVNwZWMgPSB1c2VyQWdlbnQuc3BsaXQoXCIgXCIpWzBdO1xuXHRjb25zdCBzZXBhcmF0b3JQb3MgPSBwbVNwZWMubGFzdEluZGV4T2YoXCIvXCIpO1xuXHRjb25zdCBuYW1lID0gcG1TcGVjLnN1YnN0cmluZygwLCBzZXBhcmF0b3JQb3MpO1xuXHRyZXR1cm4ge1xuXHRcdG5hbWU6IG5hbWUgPT09IFwibnBtaW5zdGFsbFwiID8gXCJjbnBtXCIgOiBuYW1lLFxuXHRcdHZlcnNpb246IHBtU3BlYy5zdWJzdHJpbmcoc2VwYXJhdG9yUG9zICsgMSlcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL3V0aWxzL2ltcG9ydC11dGlsLnRzXG5jb25zdCBpbXBvcnRSdW50aW1lID0gKG0pID0+IHtcblx0cmV0dXJuIEZ1bmN0aW9uKFwibW1cIiwgXCJyZXR1cm4gaW1wb3J0KG1tKVwiKShtKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9kZXRlY3RvcnMvZGV0ZWN0LXN5c3RlbS1pbmZvLnRzXG5mdW5jdGlvbiBnZXRWZW5kb3IoKSB7XG5cdGNvbnN0IGhhc0FueSA9ICguLi5rZXlzKSA9PiBrZXlzLnNvbWUoKGspID0+IEJvb2xlYW4oZW52W2tdKSk7XG5cdGlmIChoYXNBbnkoXCJDRl9QQUdFU1wiLCBcIkNGX1BBR0VTX1VSTFwiLCBcIkNGX0FDQ09VTlRfSURcIikgfHwgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSBcIkNsb3VkZmxhcmUtV29ya2Vyc1wiKSByZXR1cm4gXCJjbG91ZGZsYXJlXCI7XG5cdGlmIChoYXNBbnkoXCJWRVJDRUxcIiwgXCJWRVJDRUxfVVJMXCIsIFwiVkVSQ0VMX0VOVlwiKSkgcmV0dXJuIFwidmVyY2VsXCI7XG5cdGlmIChoYXNBbnkoXCJORVRMSUZZXCIsIFwiTkVUTElGWV9VUkxcIikpIHJldHVybiBcIm5ldGxpZnlcIjtcblx0aWYgKGhhc0FueShcIlJFTkRFUlwiLCBcIlJFTkRFUl9VUkxcIiwgXCJSRU5ERVJfSU5URVJOQUxfSE9TVE5BTUVcIiwgXCJSRU5ERVJfU0VSVklDRV9JRFwiKSkgcmV0dXJuIFwicmVuZGVyXCI7XG5cdGlmIChoYXNBbnkoXCJBV1NfTEFNQkRBX0ZVTkNUSU9OX05BTUVcIiwgXCJBV1NfRVhFQ1VUSU9OX0VOVlwiLCBcIkxBTUJEQV9UQVNLX1JPT1RcIikpIHJldHVybiBcImF3c1wiO1xuXHRpZiAoaGFzQW55KFwiR09PR0xFX0NMT1VEX0ZVTkNUSU9OX05BTUVcIiwgXCJHT09HTEVfQ0xPVURfUFJPSkVDVFwiLCBcIkdDUF9QUk9KRUNUXCIsIFwiS19TRVJWSUNFXCIpKSByZXR1cm4gXCJnY3BcIjtcblx0aWYgKGhhc0FueShcIkFaVVJFX0ZVTkNUSU9OX05BTUVcIiwgXCJGVU5DVElPTlNfV09SS0VSX1JVTlRJTUVcIiwgXCJXRUJTSVRFX0lOU1RBTkNFX0lEXCIsIFwiV0VCU0lURV9TSVRFX05BTUVcIikpIHJldHVybiBcImF6dXJlXCI7XG5cdGlmIChoYXNBbnkoXCJERU5PX0RFUExPWU1FTlRfSURcIiwgXCJERU5PX1JFR0lPTlwiKSkgcmV0dXJuIFwiZGVuby1kZXBsb3lcIjtcblx0aWYgKGhhc0FueShcIkZMWV9BUFBfTkFNRVwiLCBcIkZMWV9SRUdJT05cIiwgXCJGTFlfQUxMT0NfSURcIikpIHJldHVybiBcImZseS1pb1wiO1xuXHRpZiAoaGFzQW55KFwiUkFJTFdBWV9TVEFUSUNfVVJMXCIsIFwiUkFJTFdBWV9FTlZJUk9OTUVOVF9OQU1FXCIpKSByZXR1cm4gXCJyYWlsd2F5XCI7XG5cdGlmIChoYXNBbnkoXCJEWU5PXCIsIFwiSEVST0tVX0FQUF9OQU1FXCIpKSByZXR1cm4gXCJoZXJva3VcIjtcblx0aWYgKGhhc0FueShcIkRPX0RFUExPWU1FTlRfSURcIiwgXCJET19BUFBfTkFNRVwiLCBcIkRJR0lUQUxPQ0VBTlwiKSkgcmV0dXJuIFwiZGlnaXRhbG9jZWFuXCI7XG5cdGlmIChoYXNBbnkoXCJLT1lFQlwiLCBcIktPWUVCX0RFUExPWU1FTlRfSURcIiwgXCJLT1lFQl9BUFBfTkFNRVwiKSkgcmV0dXJuIFwia295ZWJcIjtcblx0cmV0dXJuIG51bGw7XG59XG5hc3luYyBmdW5jdGlvbiBkZXRlY3RTeXN0ZW1JbmZvKCkge1xuXHR0cnkge1xuXHRcdGlmIChnZXRWZW5kb3IoKSA9PT0gXCJjbG91ZGZsYXJlXCIpIHJldHVybiBcImNsb3VkZmxhcmVcIjtcblx0XHRjb25zdCBvcyA9IGF3YWl0IGltcG9ydFJ1bnRpbWUoXCJvc1wiKTtcblx0XHRjb25zdCBjcHVzID0gb3MuY3B1cygpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRkZXBsb3ltZW50VmVuZG9yOiBnZXRWZW5kb3IoKSxcblx0XHRcdHN5c3RlbVBsYXRmb3JtOiBvcy5wbGF0Zm9ybSgpLFxuXHRcdFx0c3lzdGVtUmVsZWFzZTogb3MucmVsZWFzZSgpLFxuXHRcdFx0c3lzdGVtQXJjaGl0ZWN0dXJlOiBvcy5hcmNoKCksXG5cdFx0XHRjcHVDb3VudDogY3B1cy5sZW5ndGgsXG5cdFx0XHRjcHVNb2RlbDogY3B1cy5sZW5ndGggPyBjcHVzWzBdLm1vZGVsIDogbnVsbCxcblx0XHRcdGNwdVNwZWVkOiBjcHVzLmxlbmd0aCA/IGNwdXNbMF0uc3BlZWQgOiBudWxsLFxuXHRcdFx0bWVtb3J5OiBvcy50b3RhbG1lbSgpLFxuXHRcdFx0aXNXU0w6IGF3YWl0IGlzV3NsKCksXG5cdFx0XHRpc0RvY2tlcjogYXdhaXQgaXNEb2NrZXIoKSxcblx0XHRcdGlzVFRZOiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLnN0ZG91dCA/IHByb2Nlc3Muc3Rkb3V0LmlzVFRZIDogbnVsbFxuXHRcdH07XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzeXN0ZW1QbGF0Zm9ybTogbnVsbCxcblx0XHRcdHN5c3RlbVJlbGVhc2U6IG51bGwsXG5cdFx0XHRzeXN0ZW1BcmNoaXRlY3R1cmU6IG51bGwsXG5cdFx0XHRjcHVDb3VudDogbnVsbCxcblx0XHRcdGNwdU1vZGVsOiBudWxsLFxuXHRcdFx0Y3B1U3BlZWQ6IG51bGwsXG5cdFx0XHRtZW1vcnk6IG51bGwsXG5cdFx0XHRpc1dTTDogbnVsbCxcblx0XHRcdGlzRG9ja2VyOiBudWxsLFxuXHRcdFx0aXNUVFk6IG51bGxcblx0XHR9O1xuXHR9XG59XG5sZXQgaXNEb2NrZXJDYWNoZWQ7XG5hc3luYyBmdW5jdGlvbiBoYXNEb2NrZXJFbnYoKSB7XG5cdGlmIChnZXRWZW5kb3IoKSA9PT0gXCJjbG91ZGZsYXJlXCIpIHJldHVybiBmYWxzZTtcblx0dHJ5IHtcblx0XHQoYXdhaXQgaW1wb3J0UnVudGltZShcImZzXCIpKS5zdGF0U3luYyhcIi8uZG9ja2VyZW52XCIpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGhhc0RvY2tlckNHcm91cCgpIHtcblx0aWYgKGdldFZlbmRvcigpID09PSBcImNsb3VkZmxhcmVcIikgcmV0dXJuIGZhbHNlO1xuXHR0cnkge1xuXHRcdHJldHVybiAoYXdhaXQgaW1wb3J0UnVudGltZShcImZzXCIpKS5yZWFkRmlsZVN5bmMoXCIvcHJvYy9zZWxmL2Nncm91cFwiLCBcInV0ZjhcIikuaW5jbHVkZXMoXCJkb2NrZXJcIik7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuYXN5bmMgZnVuY3Rpb24gaXNEb2NrZXIoKSB7XG5cdGlmIChnZXRWZW5kb3IoKSA9PT0gXCJjbG91ZGZsYXJlXCIpIHJldHVybiBmYWxzZTtcblx0aWYgKGlzRG9ja2VyQ2FjaGVkID09PSB2b2lkIDApIGlzRG9ja2VyQ2FjaGVkID0gYXdhaXQgaGFzRG9ja2VyRW52KCkgfHwgYXdhaXQgaGFzRG9ja2VyQ0dyb3VwKCk7XG5cdHJldHVybiBpc0RvY2tlckNhY2hlZDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGlzV3NsKCkge1xuXHR0cnkge1xuXHRcdGlmIChnZXRWZW5kb3IoKSA9PT0gXCJjbG91ZGZsYXJlXCIpIHJldHVybiBmYWxzZTtcblx0XHRpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIgfHwgcHJvY2Vzcz8ucGxhdGZvcm0gIT09IFwibGludXhcIikgcmV0dXJuIGZhbHNlO1xuXHRcdGNvbnN0IGZzID0gYXdhaXQgaW1wb3J0UnVudGltZShcImZzXCIpO1xuXHRcdGlmICgoYXdhaXQgaW1wb3J0UnVudGltZShcIm9zXCIpKS5yZWxlYXNlKCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm1pY3Jvc29mdFwiKSkge1xuXHRcdFx0aWYgKGF3YWl0IGlzSW5zaWRlQ29udGFpbmVyKCkpIHJldHVybiBmYWxzZTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZnMucmVhZEZpbGVTeW5jKFwiL3Byb2MvdmVyc2lvblwiLCBcInV0ZjhcIikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm1pY3Jvc29mdFwiKSA/ICFhd2FpdCBpc0luc2lkZUNvbnRhaW5lcigpIDogZmFsc2U7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxubGV0IGlzSW5zaWRlQ29udGFpbmVyQ2FjaGVkO1xuY29uc3QgaGFzQ29udGFpbmVyRW52ID0gYXN5bmMgKCkgPT4ge1xuXHRpZiAoZ2V0VmVuZG9yKCkgPT09IFwiY2xvdWRmbGFyZVwiKSByZXR1cm4gZmFsc2U7XG5cdHRyeSB7XG5cdFx0KGF3YWl0IGltcG9ydFJ1bnRpbWUoXCJmc1wiKSkuc3RhdFN5bmMoXCIvcnVuLy5jb250YWluZXJlbnZcIik7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufTtcbmFzeW5jIGZ1bmN0aW9uIGlzSW5zaWRlQ29udGFpbmVyKCkge1xuXHRpZiAoaXNJbnNpZGVDb250YWluZXJDYWNoZWQgPT09IHZvaWQgMCkgaXNJbnNpZGVDb250YWluZXJDYWNoZWQgPSBhd2FpdCBoYXNDb250YWluZXJFbnYoKSB8fCBhd2FpdCBpc0RvY2tlcigpO1xuXHRyZXR1cm4gaXNJbnNpZGVDb250YWluZXJDYWNoZWQ7XG59XG5mdW5jdGlvbiBpc0NJKCkge1xuXHRyZXR1cm4gZW52LkNJICE9PSBcImZhbHNlXCIgJiYgKFwiQlVJTERfSURcIiBpbiBlbnYgfHwgXCJCVUlMRF9OVU1CRVJcIiBpbiBlbnYgfHwgXCJDSVwiIGluIGVudiB8fCBcIkNJX0FQUF9JRFwiIGluIGVudiB8fCBcIkNJX0JVSUxEX0lEXCIgaW4gZW52IHx8IFwiQ0lfQlVJTERfTlVNQkVSXCIgaW4gZW52IHx8IFwiQ0lfTkFNRVwiIGluIGVudiB8fCBcIkNPTlRJTlVPVVNfSU5URUdSQVRJT05cIiBpbiBlbnYgfHwgXCJSVU5fSURcIiBpbiBlbnYpO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvZGV0ZWN0b3JzL2RldGVjdC1ydW50aW1lLnRzXG5mdW5jdGlvbiBkZXRlY3RSdW50aW1lKCkge1xuXHRpZiAodHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB7XG5cdFx0bmFtZTogXCJkZW5vXCIsXG5cdFx0dmVyc2lvbjogRGVubz8udmVyc2lvbj8uZGVubyA/PyBudWxsXG5cdH07XG5cdGlmICh0eXBlb2YgQnVuICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4ge1xuXHRcdG5hbWU6IFwiYnVuXCIsXG5cdFx0dmVyc2lvbjogQnVuPy52ZXJzaW9uID8/IG51bGxcblx0fTtcblx0aWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3M/LnZlcnNpb25zPy5ub2RlKSByZXR1cm4ge1xuXHRcdG5hbWU6IFwibm9kZVwiLFxuXHRcdHZlcnNpb246IHByb2Nlc3MudmVyc2lvbnMubm9kZSA/PyBudWxsXG5cdH07XG5cdHJldHVybiB7XG5cdFx0bmFtZTogXCJlZGdlXCIsXG5cdFx0dmVyc2lvbjogbnVsbFxuXHR9O1xufVxuZnVuY3Rpb24gZGV0ZWN0RW52aXJvbm1lbnQoKSB7XG5cdHJldHVybiBnZXRFbnZWYXIoXCJOT0RFX0VOVlwiKSA9PT0gXCJwcm9kdWN0aW9uXCIgPyBcInByb2R1Y3Rpb25cIiA6IGlzQ0koKSA/IFwiY2lcIiA6IGlzVGVzdCgpID8gXCJ0ZXN0XCIgOiBcImRldmVsb3BtZW50XCI7XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy91dGlscy9oYXNoLnRzXG5hc3luYyBmdW5jdGlvbiBoYXNoVG9CYXNlNjQoZGF0YSkge1xuXHRjb25zdCBidWZmZXIgPSBhd2FpdCBjcmVhdGVIYXNoKFwiU0hBLTI1NlwiKS5kaWdlc3QoZGF0YSk7XG5cdHJldHVybiBiYXNlNjQuZW5jb2RlKGJ1ZmZlcik7XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy91dGlscy9pZC50c1xuY29uc3QgZ2VuZXJhdGVJZCA9IChzaXplKSA9PiB7XG5cdHJldHVybiBjcmVhdGVSYW5kb21TdHJpbmdHZW5lcmF0b3IoXCJhLXpcIiwgXCJBLVpcIiwgXCIwLTlcIikoc2l6ZSB8fCAzMik7XG59O1xuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvcHJvamVjdC1pZC50c1xubGV0IHByb2plY3RJZENhY2hlZCA9IG51bGw7XG5hc3luYyBmdW5jdGlvbiBnZXRQcm9qZWN0SWQoYmFzZVVybCkge1xuXHRpZiAocHJvamVjdElkQ2FjaGVkKSByZXR1cm4gcHJvamVjdElkQ2FjaGVkO1xuXHRjb25zdCBwcm9qZWN0TmFtZSA9IGF3YWl0IGdldE5hbWVGcm9tTG9jYWxQYWNrYWdlSnNvbigpO1xuXHRpZiAocHJvamVjdE5hbWUpIHtcblx0XHRwcm9qZWN0SWRDYWNoZWQgPSBhd2FpdCBoYXNoVG9CYXNlNjQoYmFzZVVybCA/IGJhc2VVcmwgKyBwcm9qZWN0TmFtZSA6IHByb2plY3ROYW1lKTtcblx0XHRyZXR1cm4gcHJvamVjdElkQ2FjaGVkO1xuXHR9XG5cdGlmIChiYXNlVXJsKSB7XG5cdFx0cHJvamVjdElkQ2FjaGVkID0gYXdhaXQgaGFzaFRvQmFzZTY0KGJhc2VVcmwpO1xuXHRcdHJldHVybiBwcm9qZWN0SWRDYWNoZWQ7XG5cdH1cblx0cHJvamVjdElkQ2FjaGVkID0gZ2VuZXJhdGVJZCgzMik7XG5cdHJldHVybiBwcm9qZWN0SWRDYWNoZWQ7XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9pbmRleC50c1xuY29uc3Qgbm9vcCA9IGFzeW5jIGZ1bmN0aW9uIG5vb3AkMSgpIHt9O1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGVsZW1ldHJ5KG9wdGlvbnMsIGNvbnRleHQpIHtcblx0Y29uc3QgZGVidWdFbmFibGVkID0gb3B0aW9ucy50ZWxlbWV0cnk/LmRlYnVnIHx8IGdldEJvb2xlYW5FbnZWYXIoXCJCRVRURVJfQVVUSF9URUxFTUVUUllfREVCVUdcIiwgZmFsc2UpO1xuXHRjb25zdCB0ZWxlbWV0cnlFbmRwb2ludCA9IEVOVi5CRVRURVJfQVVUSF9URUxFTUVUUllfRU5EUE9JTlQ7XG5cdGlmICghdGVsZW1ldHJ5RW5kcG9pbnQgJiYgIWNvbnRleHQ/LmN1c3RvbVRyYWNrKSByZXR1cm4geyBwdWJsaXNoOiBub29wIH07XG5cdGNvbnN0IHRyYWNrID0gYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0aWYgKGNvbnRleHQ/LmN1c3RvbVRyYWNrKSBhd2FpdCBjb250ZXh0LmN1c3RvbVRyYWNrKGV2ZW50KS5jYXRjaChsb2dnZXIuZXJyb3IpO1xuXHRcdGVsc2UgaWYgKHRlbGVtZXRyeUVuZHBvaW50KSBpZiAoZGVidWdFbmFibGVkKSBsb2dnZXIuaW5mbyhcInRlbGVtZXRyeSBldmVudFwiLCBKU09OLnN0cmluZ2lmeShldmVudCwgbnVsbCwgMikpO1xuXHRcdGVsc2UgYXdhaXQgYmV0dGVyRmV0Y2godGVsZW1ldHJ5RW5kcG9pbnQsIHtcblx0XHRcdG1ldGhvZDogXCJQT1NUXCIsXG5cdFx0XHRib2R5OiBldmVudFxuXHRcdH0pLmNhdGNoKGxvZ2dlci5lcnJvcik7XG5cdH07XG5cdGNvbnN0IGlzRW5hYmxlZCA9IGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB0ZWxlbWV0cnlFbmFibGVkID0gb3B0aW9ucy50ZWxlbWV0cnk/LmVuYWJsZWQgIT09IHZvaWQgMCA/IG9wdGlvbnMudGVsZW1ldHJ5LmVuYWJsZWQgOiBmYWxzZTtcblx0XHRyZXR1cm4gKGdldEJvb2xlYW5FbnZWYXIoXCJCRVRURVJfQVVUSF9URUxFTUVUUllcIiwgZmFsc2UpIHx8IHRlbGVtZXRyeUVuYWJsZWQpICYmIChjb250ZXh0Py5za2lwVGVzdENoZWNrIHx8ICFpc1Rlc3QoKSk7XG5cdH07XG5cdGNvbnN0IGVuYWJsZWQgPSBhd2FpdCBpc0VuYWJsZWQoKTtcblx0bGV0IGFub255bW91c0lkO1xuXHRpZiAoZW5hYmxlZCkge1xuXHRcdGFub255bW91c0lkID0gYXdhaXQgZ2V0UHJvamVjdElkKG9wdGlvbnMuYmFzZVVSTCk7XG5cdFx0dHJhY2soe1xuXHRcdFx0dHlwZTogXCJpbml0XCIsXG5cdFx0XHRwYXlsb2FkOiB7XG5cdFx0XHRcdGNvbmZpZzogZ2V0VGVsZW1ldHJ5QXV0aENvbmZpZyhvcHRpb25zLCBjb250ZXh0KSxcblx0XHRcdFx0cnVudGltZTogZGV0ZWN0UnVudGltZSgpLFxuXHRcdFx0XHRkYXRhYmFzZTogYXdhaXQgZGV0ZWN0RGF0YWJhc2UoKSxcblx0XHRcdFx0ZnJhbWV3b3JrOiBhd2FpdCBkZXRlY3RGcmFtZXdvcmsoKSxcblx0XHRcdFx0ZW52aXJvbm1lbnQ6IGRldGVjdEVudmlyb25tZW50KCksXG5cdFx0XHRcdHN5c3RlbUluZm86IGF3YWl0IGRldGVjdFN5c3RlbUluZm8oKSxcblx0XHRcdFx0cGFja2FnZU1hbmFnZXI6IGRldGVjdFBhY2thZ2VNYW5hZ2VyKClcblx0XHRcdH0sXG5cdFx0XHRhbm9ueW1vdXNJZFxuXHRcdH0pO1xuXHR9XG5cdHJldHVybiB7IHB1Ymxpc2g6IGFzeW5jIChldmVudCkgPT4ge1xuXHRcdGlmICghZW5hYmxlZCkgcmV0dXJuO1xuXHRcdGlmICghYW5vbnltb3VzSWQpIGFub255bW91c0lkID0gYXdhaXQgZ2V0UHJvamVjdElkKG9wdGlvbnMuYmFzZVVSTCk7XG5cdFx0YXdhaXQgdHJhY2soe1xuXHRcdFx0dHlwZTogZXZlbnQudHlwZSxcblx0XHRcdHBheWxvYWQ6IGV2ZW50LnBheWxvYWQsXG5cdFx0XHRhbm9ueW1vdXNJZFxuXHRcdH0pO1xuXHR9IH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY3JlYXRlVGVsZW1ldHJ5LCBnZXRUZWxlbWV0cnlBdXRoQ29uZmlnIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/.pnpm/@better-auth+telemetry@1.4._c11636a3ce6f8b05864a09e345ba4713/node_modules/@better-auth/telemetry/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@better-auth+telemetry@1.4._c11636a3ce6f8b05864a09e345ba4713/node_modules/@better-auth/telemetry/dist/index.mjs":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@better-auth+telemetry@1.4._c11636a3ce6f8b05864a09e345ba4713/node_modules/@better-auth/telemetry/dist/index.mjs ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTelemetry: () => (/* binding */ createTelemetry),\n/* harmony export */   getTelemetryAuthConfig: () => (/* binding */ getTelemetryAuthConfig)\n/* harmony export */ });\n/* harmony import */ var _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @better-auth/core/env */ \"(rsc)/./node_modules/.pnpm/@better-auth+core@1.4.18_@b_0b2b890b28b8f3380433f58b733d628d/node_modules/@better-auth/core/dist/env/index.mjs\");\n/* harmony import */ var _better_fetch_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @better-fetch/fetch */ \"(rsc)/./node_modules/.pnpm/@better-fetch+fetch@1.1.21/node_modules/@better-fetch/fetch/dist/index.js\");\n/* harmony import */ var _better_auth_utils_base64__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @better-auth/utils/base64 */ \"(rsc)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/base64.mjs\");\n/* harmony import */ var _better_auth_utils_hash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @better-auth/utils/hash */ \"(rsc)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/hash.mjs\");\n/* harmony import */ var _better_auth_utils_random__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @better-auth/utils/random */ \"(rsc)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/random.mjs\");\n\n\n\n\n\n\n//#region src/detectors/detect-auth-config.ts\nfunction getTelemetryAuthConfig(options, context) {\n\treturn {\n\t\tdatabase: context?.database,\n\t\tadapter: context?.adapter,\n\t\temailVerification: {\n\t\t\tsendVerificationEmail: !!options.emailVerification?.sendVerificationEmail,\n\t\t\tsendOnSignUp: !!options.emailVerification?.sendOnSignUp,\n\t\t\tsendOnSignIn: !!options.emailVerification?.sendOnSignIn,\n\t\t\tautoSignInAfterVerification: !!options.emailVerification?.autoSignInAfterVerification,\n\t\t\texpiresIn: options.emailVerification?.expiresIn,\n\t\t\tonEmailVerification: !!options.emailVerification?.onEmailVerification,\n\t\t\tafterEmailVerification: !!options.emailVerification?.afterEmailVerification\n\t\t},\n\t\temailAndPassword: {\n\t\t\tenabled: !!options.emailAndPassword?.enabled,\n\t\t\tdisableSignUp: !!options.emailAndPassword?.disableSignUp,\n\t\t\trequireEmailVerification: !!options.emailAndPassword?.requireEmailVerification,\n\t\t\tmaxPasswordLength: options.emailAndPassword?.maxPasswordLength,\n\t\t\tminPasswordLength: options.emailAndPassword?.minPasswordLength,\n\t\t\tsendResetPassword: !!options.emailAndPassword?.sendResetPassword,\n\t\t\tresetPasswordTokenExpiresIn: options.emailAndPassword?.resetPasswordTokenExpiresIn,\n\t\t\tonPasswordReset: !!options.emailAndPassword?.onPasswordReset,\n\t\t\tpassword: {\n\t\t\t\thash: !!options.emailAndPassword?.password?.hash,\n\t\t\t\tverify: !!options.emailAndPassword?.password?.verify\n\t\t\t},\n\t\t\tautoSignIn: !!options.emailAndPassword?.autoSignIn,\n\t\t\trevokeSessionsOnPasswordReset: !!options.emailAndPassword?.revokeSessionsOnPasswordReset\n\t\t},\n\t\tsocialProviders: Object.keys(options.socialProviders || {}).map((p) => {\n\t\t\tconst provider = options.socialProviders?.[p];\n\t\t\tif (!provider) return {};\n\t\t\treturn {\n\t\t\t\tid: p,\n\t\t\t\tmapProfileToUser: !!provider.mapProfileToUser,\n\t\t\t\tdisableDefaultScope: !!provider.disableDefaultScope,\n\t\t\t\tdisableIdTokenSignIn: !!provider.disableIdTokenSignIn,\n\t\t\t\tdisableImplicitSignUp: provider.disableImplicitSignUp,\n\t\t\t\tdisableSignUp: provider.disableSignUp,\n\t\t\t\tgetUserInfo: !!provider.getUserInfo,\n\t\t\t\toverrideUserInfoOnSignIn: !!provider.overrideUserInfoOnSignIn,\n\t\t\t\tprompt: provider.prompt,\n\t\t\t\tverifyIdToken: !!provider.verifyIdToken,\n\t\t\t\tscope: provider.scope,\n\t\t\t\trefreshAccessToken: !!provider.refreshAccessToken\n\t\t\t};\n\t\t}),\n\t\tplugins: options.plugins?.map((p) => p.id.toString()),\n\t\tuser: {\n\t\t\tmodelName: options.user?.modelName,\n\t\t\tfields: options.user?.fields,\n\t\t\tadditionalFields: options.user?.additionalFields,\n\t\t\tchangeEmail: {\n\t\t\t\tenabled: options.user?.changeEmail?.enabled,\n\t\t\t\tsendChangeEmailVerification: !!options.user?.changeEmail?.sendChangeEmailVerification\n\t\t\t}\n\t\t},\n\t\tverification: {\n\t\t\tmodelName: options.verification?.modelName,\n\t\t\tdisableCleanup: options.verification?.disableCleanup,\n\t\t\tfields: options.verification?.fields\n\t\t},\n\t\tsession: {\n\t\t\tmodelName: options.session?.modelName,\n\t\t\tadditionalFields: options.session?.additionalFields,\n\t\t\tcookieCache: {\n\t\t\t\tenabled: options.session?.cookieCache?.enabled,\n\t\t\t\tmaxAge: options.session?.cookieCache?.maxAge,\n\t\t\t\tstrategy: options.session?.cookieCache?.strategy\n\t\t\t},\n\t\t\tdisableSessionRefresh: options.session?.disableSessionRefresh,\n\t\t\texpiresIn: options.session?.expiresIn,\n\t\t\tfields: options.session?.fields,\n\t\t\tfreshAge: options.session?.freshAge,\n\t\t\tpreserveSessionInDatabase: options.session?.preserveSessionInDatabase,\n\t\t\tstoreSessionInDatabase: options.session?.storeSessionInDatabase,\n\t\t\tupdateAge: options.session?.updateAge\n\t\t},\n\t\taccount: {\n\t\t\tmodelName: options.account?.modelName,\n\t\t\tfields: options.account?.fields,\n\t\t\tencryptOAuthTokens: options.account?.encryptOAuthTokens,\n\t\t\tupdateAccountOnSignIn: options.account?.updateAccountOnSignIn,\n\t\t\taccountLinking: {\n\t\t\t\tenabled: options.account?.accountLinking?.enabled,\n\t\t\t\ttrustedProviders: options.account?.accountLinking?.trustedProviders,\n\t\t\t\tupdateUserInfoOnLink: options.account?.accountLinking?.updateUserInfoOnLink,\n\t\t\t\tallowUnlinkingAll: options.account?.accountLinking?.allowUnlinkingAll\n\t\t\t}\n\t\t},\n\t\thooks: {\n\t\t\tafter: !!options.hooks?.after,\n\t\t\tbefore: !!options.hooks?.before\n\t\t},\n\t\tsecondaryStorage: !!options.secondaryStorage,\n\t\tadvanced: {\n\t\t\tcookiePrefix: !!options.advanced?.cookiePrefix,\n\t\t\tcookies: !!options.advanced?.cookies,\n\t\t\tcrossSubDomainCookies: {\n\t\t\t\tdomain: !!options.advanced?.crossSubDomainCookies?.domain,\n\t\t\t\tenabled: options.advanced?.crossSubDomainCookies?.enabled,\n\t\t\t\tadditionalCookies: options.advanced?.crossSubDomainCookies?.additionalCookies\n\t\t\t},\n\t\t\tdatabase: {\n\t\t\t\tuseNumberId: !!options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\",\n\t\t\t\tgenerateId: options.advanced?.database?.generateId,\n\t\t\t\tdefaultFindManyLimit: options.advanced?.database?.defaultFindManyLimit\n\t\t\t},\n\t\t\tuseSecureCookies: options.advanced?.useSecureCookies,\n\t\t\tipAddress: {\n\t\t\t\tdisableIpTracking: options.advanced?.ipAddress?.disableIpTracking,\n\t\t\t\tipAddressHeaders: options.advanced?.ipAddress?.ipAddressHeaders\n\t\t\t},\n\t\t\tdisableCSRFCheck: options.advanced?.disableCSRFCheck,\n\t\t\tcookieAttributes: {\n\t\t\t\texpires: options.advanced?.defaultCookieAttributes?.expires,\n\t\t\t\tsecure: options.advanced?.defaultCookieAttributes?.secure,\n\t\t\t\tsameSite: options.advanced?.defaultCookieAttributes?.sameSite,\n\t\t\t\tdomain: !!options.advanced?.defaultCookieAttributes?.domain,\n\t\t\t\tpath: options.advanced?.defaultCookieAttributes?.path,\n\t\t\t\thttpOnly: options.advanced?.defaultCookieAttributes?.httpOnly\n\t\t\t}\n\t\t},\n\t\ttrustedOrigins: options.trustedOrigins?.length,\n\t\trateLimit: {\n\t\t\tstorage: options.rateLimit?.storage,\n\t\t\tmodelName: options.rateLimit?.modelName,\n\t\t\twindow: options.rateLimit?.window,\n\t\t\tcustomStorage: !!options.rateLimit?.customStorage,\n\t\t\tenabled: options.rateLimit?.enabled,\n\t\t\tmax: options.rateLimit?.max\n\t\t},\n\t\tonAPIError: {\n\t\t\terrorURL: options.onAPIError?.errorURL,\n\t\t\tonError: !!options.onAPIError?.onError,\n\t\t\tthrow: options.onAPIError?.throw\n\t\t},\n\t\tlogger: {\n\t\t\tdisabled: options.logger?.disabled,\n\t\t\tlevel: options.logger?.level,\n\t\t\tlog: !!options.logger?.log\n\t\t},\n\t\tdatabaseHooks: {\n\t\t\tuser: {\n\t\t\t\tcreate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.user?.create?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.user?.create?.before\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.user?.update?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.user?.update?.before\n\t\t\t\t}\n\t\t\t},\n\t\t\tsession: {\n\t\t\t\tcreate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.session?.create?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.session?.create?.before\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.session?.update?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.session?.update?.before\n\t\t\t\t}\n\t\t\t},\n\t\t\taccount: {\n\t\t\t\tcreate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.account?.create?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.account?.create?.before\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.account?.update?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.account?.update?.before\n\t\t\t\t}\n\t\t\t},\n\t\t\tverification: {\n\t\t\t\tcreate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.verification?.create?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.verification?.create?.before\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\tafter: !!options.databaseHooks?.verification?.update?.after,\n\t\t\t\t\tbefore: !!options.databaseHooks?.verification?.update?.before\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n//#endregion\n//#region src/utils/package-json.ts\nlet packageJSONCache;\nasync function readRootPackageJson() {\n\tif (packageJSONCache) return packageJSONCache;\n\ttry {\n\t\tconst cwd = typeof process !== \"undefined\" && typeof process.cwd === \"function\" ? process.cwd() : \"\";\n\t\tif (!cwd) return void 0;\n\t\tconst importRuntime$1 = (m) => Function(\"mm\", \"return import(mm)\")(m);\n\t\tconst [{ default: fs }, { default: path }] = await Promise.all([importRuntime$1(\"fs/promises\"), importRuntime$1(\"path\")]);\n\t\tconst raw = await fs.readFile(path.join(cwd, \"package.json\"), \"utf-8\");\n\t\tpackageJSONCache = JSON.parse(raw);\n\t\treturn packageJSONCache;\n\t} catch {}\n}\nasync function getPackageVersion(pkg) {\n\tif (packageJSONCache) return packageJSONCache.dependencies?.[pkg] || packageJSONCache.devDependencies?.[pkg] || packageJSONCache.peerDependencies?.[pkg];\n\ttry {\n\t\tconst cwd = typeof process !== \"undefined\" && typeof process.cwd === \"function\" ? process.cwd() : \"\";\n\t\tif (!cwd) throw new Error(\"no-cwd\");\n\t\tconst importRuntime$1 = (m) => Function(\"mm\", \"return import(mm)\")(m);\n\t\tconst [{ default: fs }, { default: path }] = await Promise.all([importRuntime$1(\"fs/promises\"), importRuntime$1(\"path\")]);\n\t\tconst pkgJsonPath = path.join(cwd, \"node_modules\", pkg, \"package.json\");\n\t\tconst raw = await fs.readFile(pkgJsonPath, \"utf-8\");\n\t\treturn JSON.parse(raw).version || await getVersionFromLocalPackageJson(pkg) || void 0;\n\t} catch {}\n\treturn await getVersionFromLocalPackageJson(pkg);\n}\nasync function getVersionFromLocalPackageJson(pkg) {\n\tconst json = await readRootPackageJson();\n\tif (!json) return void 0;\n\treturn {\n\t\t...json.dependencies,\n\t\t...json.devDependencies,\n\t\t...json.peerDependencies\n\t}[pkg];\n}\nasync function getNameFromLocalPackageJson() {\n\treturn (await readRootPackageJson())?.name;\n}\n\n//#endregion\n//#region src/detectors/detect-database.ts\nconst DATABASES = {\n\tpg: \"postgresql\",\n\tmysql: \"mysql\",\n\tmariadb: \"mariadb\",\n\tsqlite3: \"sqlite\",\n\t\"better-sqlite3\": \"sqlite\",\n\t\"@prisma/client\": \"prisma\",\n\tmongoose: \"mongodb\",\n\tmongodb: \"mongodb\",\n\t\"drizzle-orm\": \"drizzle\"\n};\nasync function detectDatabase() {\n\tfor (const [pkg, name] of Object.entries(DATABASES)) {\n\t\tconst version = await getPackageVersion(pkg);\n\t\tif (version) return {\n\t\t\tname,\n\t\t\tversion\n\t\t};\n\t}\n}\n\n//#endregion\n//#region src/detectors/detect-framework.ts\nconst FRAMEWORKS = {\n\tnext: \"next\",\n\tnuxt: \"nuxt\",\n\t\"@remix-run/server-runtime\": \"remix\",\n\tastro: \"astro\",\n\t\"@sveltejs/kit\": \"sveltekit\",\n\t\"solid-start\": \"solid-start\",\n\t\"tanstack-start\": \"tanstack-start\",\n\thono: \"hono\",\n\texpress: \"express\",\n\telysia: \"elysia\",\n\texpo: \"expo\"\n};\nasync function detectFramework() {\n\tfor (const [pkg, name] of Object.entries(FRAMEWORKS)) {\n\t\tconst version = await getPackageVersion(pkg);\n\t\tif (version) return {\n\t\t\tname,\n\t\t\tversion\n\t\t};\n\t}\n}\n\n//#endregion\n//#region src/detectors/detect-project-info.ts\nfunction detectPackageManager() {\n\tconst userAgent = _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env.npm_config_user_agent;\n\tif (!userAgent) return;\n\tconst pmSpec = userAgent.split(\" \")[0];\n\tconst separatorPos = pmSpec.lastIndexOf(\"/\");\n\tconst name = pmSpec.substring(0, separatorPos);\n\treturn {\n\t\tname: name === \"npminstall\" ? \"cnpm\" : name,\n\t\tversion: pmSpec.substring(separatorPos + 1)\n\t};\n}\n\n//#endregion\n//#region src/utils/import-util.ts\nconst importRuntime = (m) => {\n\treturn Function(\"mm\", \"return import(mm)\")(m);\n};\n\n//#endregion\n//#region src/detectors/detect-system-info.ts\nfunction getVendor() {\n\tconst hasAny = (...keys) => keys.some((k) => Boolean(_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env[k]));\n\tif (hasAny(\"CF_PAGES\", \"CF_PAGES_URL\", \"CF_ACCOUNT_ID\") || typeof navigator !== \"undefined\" && navigator.userAgent === \"Cloudflare-Workers\") return \"cloudflare\";\n\tif (hasAny(\"VERCEL\", \"VERCEL_URL\", \"VERCEL_ENV\")) return \"vercel\";\n\tif (hasAny(\"NETLIFY\", \"NETLIFY_URL\")) return \"netlify\";\n\tif (hasAny(\"RENDER\", \"RENDER_URL\", \"RENDER_INTERNAL_HOSTNAME\", \"RENDER_SERVICE_ID\")) return \"render\";\n\tif (hasAny(\"AWS_LAMBDA_FUNCTION_NAME\", \"AWS_EXECUTION_ENV\", \"LAMBDA_TASK_ROOT\")) return \"aws\";\n\tif (hasAny(\"GOOGLE_CLOUD_FUNCTION_NAME\", \"GOOGLE_CLOUD_PROJECT\", \"GCP_PROJECT\", \"K_SERVICE\")) return \"gcp\";\n\tif (hasAny(\"AZURE_FUNCTION_NAME\", \"FUNCTIONS_WORKER_RUNTIME\", \"WEBSITE_INSTANCE_ID\", \"WEBSITE_SITE_NAME\")) return \"azure\";\n\tif (hasAny(\"DENO_DEPLOYMENT_ID\", \"DENO_REGION\")) return \"deno-deploy\";\n\tif (hasAny(\"FLY_APP_NAME\", \"FLY_REGION\", \"FLY_ALLOC_ID\")) return \"fly-io\";\n\tif (hasAny(\"RAILWAY_STATIC_URL\", \"RAILWAY_ENVIRONMENT_NAME\")) return \"railway\";\n\tif (hasAny(\"DYNO\", \"HEROKU_APP_NAME\")) return \"heroku\";\n\tif (hasAny(\"DO_DEPLOYMENT_ID\", \"DO_APP_NAME\", \"DIGITALOCEAN\")) return \"digitalocean\";\n\tif (hasAny(\"KOYEB\", \"KOYEB_DEPLOYMENT_ID\", \"KOYEB_APP_NAME\")) return \"koyeb\";\n\treturn null;\n}\nasync function detectSystemInfo() {\n\ttry {\n\t\tif (getVendor() === \"cloudflare\") return \"cloudflare\";\n\t\tconst os = await importRuntime(\"os\");\n\t\tconst cpus = os.cpus();\n\t\treturn {\n\t\t\tdeploymentVendor: getVendor(),\n\t\t\tsystemPlatform: os.platform(),\n\t\t\tsystemRelease: os.release(),\n\t\t\tsystemArchitecture: os.arch(),\n\t\t\tcpuCount: cpus.length,\n\t\t\tcpuModel: cpus.length ? cpus[0].model : null,\n\t\t\tcpuSpeed: cpus.length ? cpus[0].speed : null,\n\t\t\tmemory: os.totalmem(),\n\t\t\tisWSL: await isWsl(),\n\t\t\tisDocker: await isDocker(),\n\t\t\tisTTY: typeof process !== \"undefined\" && process.stdout ? process.stdout.isTTY : null\n\t\t};\n\t} catch {\n\t\treturn {\n\t\t\tsystemPlatform: null,\n\t\t\tsystemRelease: null,\n\t\t\tsystemArchitecture: null,\n\t\t\tcpuCount: null,\n\t\t\tcpuModel: null,\n\t\t\tcpuSpeed: null,\n\t\t\tmemory: null,\n\t\t\tisWSL: null,\n\t\t\tisDocker: null,\n\t\t\tisTTY: null\n\t\t};\n\t}\n}\nlet isDockerCached;\nasync function hasDockerEnv() {\n\tif (getVendor() === \"cloudflare\") return false;\n\ttry {\n\t\t(await importRuntime(\"fs\")).statSync(\"/.dockerenv\");\n\t\treturn true;\n\t} catch {\n\t\treturn false;\n\t}\n}\nasync function hasDockerCGroup() {\n\tif (getVendor() === \"cloudflare\") return false;\n\ttry {\n\t\treturn (await importRuntime(\"fs\")).readFileSync(\"/proc/self/cgroup\", \"utf8\").includes(\"docker\");\n\t} catch {\n\t\treturn false;\n\t}\n}\nasync function isDocker() {\n\tif (getVendor() === \"cloudflare\") return false;\n\tif (isDockerCached === void 0) isDockerCached = await hasDockerEnv() || await hasDockerCGroup();\n\treturn isDockerCached;\n}\nasync function isWsl() {\n\ttry {\n\t\tif (getVendor() === \"cloudflare\") return false;\n\t\tif (typeof process === \"undefined\" || process?.platform !== \"linux\") return false;\n\t\tconst fs = await importRuntime(\"fs\");\n\t\tif ((await importRuntime(\"os\")).release().toLowerCase().includes(\"microsoft\")) {\n\t\t\tif (await isInsideContainer()) return false;\n\t\t\treturn true;\n\t\t}\n\t\treturn fs.readFileSync(\"/proc/version\", \"utf8\").toLowerCase().includes(\"microsoft\") ? !await isInsideContainer() : false;\n\t} catch {\n\t\treturn false;\n\t}\n}\nlet isInsideContainerCached;\nconst hasContainerEnv = async () => {\n\tif (getVendor() === \"cloudflare\") return false;\n\ttry {\n\t\t(await importRuntime(\"fs\")).statSync(\"/run/.containerenv\");\n\t\treturn true;\n\t} catch {\n\t\treturn false;\n\t}\n};\nasync function isInsideContainer() {\n\tif (isInsideContainerCached === void 0) isInsideContainerCached = await hasContainerEnv() || await isDocker();\n\treturn isInsideContainerCached;\n}\nfunction isCI() {\n\treturn _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env.CI !== \"false\" && (\"BUILD_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"BUILD_NUMBER\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI_APP_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI_BUILD_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI_BUILD_NUMBER\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CI_NAME\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"CONTINUOUS_INTEGRATION\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || \"RUN_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env);\n}\n\n//#endregion\n//#region src/detectors/detect-runtime.ts\nfunction detectRuntime() {\n\tif (typeof Deno !== \"undefined\") return {\n\t\tname: \"deno\",\n\t\tversion: Deno?.version?.deno ?? null\n\t};\n\tif (typeof Bun !== \"undefined\") return {\n\t\tname: \"bun\",\n\t\tversion: Bun?.version ?? null\n\t};\n\tif (typeof process !== \"undefined\" && process?.versions?.node) return {\n\t\tname: \"node\",\n\t\tversion: process.versions.node ?? null\n\t};\n\treturn {\n\t\tname: \"edge\",\n\t\tversion: null\n\t};\n}\nfunction detectEnvironment() {\n\treturn (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getEnvVar)(\"NODE_ENV\") === \"production\" ? \"production\" : isCI() ? \"ci\" : (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.isTest)() ? \"test\" : \"development\";\n}\n\n//#endregion\n//#region src/utils/hash.ts\nasync function hashToBase64(data) {\n\tconst buffer = await (0,_better_auth_utils_hash__WEBPACK_IMPORTED_MODULE_3__.createHash)(\"SHA-256\").digest(data);\n\treturn _better_auth_utils_base64__WEBPACK_IMPORTED_MODULE_2__.base64.encode(buffer);\n}\n\n//#endregion\n//#region src/utils/id.ts\nconst generateId = (size) => {\n\treturn (0,_better_auth_utils_random__WEBPACK_IMPORTED_MODULE_4__.createRandomStringGenerator)(\"a-z\", \"A-Z\", \"0-9\")(size || 32);\n};\n\n//#endregion\n//#region src/project-id.ts\nlet projectIdCached = null;\nasync function getProjectId(baseUrl) {\n\tif (projectIdCached) return projectIdCached;\n\tconst projectName = await getNameFromLocalPackageJson();\n\tif (projectName) {\n\t\tprojectIdCached = await hashToBase64(baseUrl ? baseUrl + projectName : projectName);\n\t\treturn projectIdCached;\n\t}\n\tif (baseUrl) {\n\t\tprojectIdCached = await hashToBase64(baseUrl);\n\t\treturn projectIdCached;\n\t}\n\tprojectIdCached = generateId(32);\n\treturn projectIdCached;\n}\n\n//#endregion\n//#region src/index.ts\nconst noop = async function noop$1() {};\nasync function createTelemetry(options, context) {\n\tconst debugEnabled = options.telemetry?.debug || (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getBooleanEnvVar)(\"BETTER_AUTH_TELEMETRY_DEBUG\", false);\n\tconst telemetryEndpoint = _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.ENV.BETTER_AUTH_TELEMETRY_ENDPOINT;\n\tif (!telemetryEndpoint && !context?.customTrack) return { publish: noop };\n\tconst track = async (event) => {\n\t\tif (context?.customTrack) await context.customTrack(event).catch(_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.logger.error);\n\t\telse if (telemetryEndpoint) if (debugEnabled) _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"telemetry event\", JSON.stringify(event, null, 2));\n\t\telse await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_1__.betterFetch)(telemetryEndpoint, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: event\n\t\t}).catch(_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.logger.error);\n\t};\n\tconst isEnabled = async () => {\n\t\tconst telemetryEnabled = options.telemetry?.enabled !== void 0 ? options.telemetry.enabled : false;\n\t\treturn ((0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getBooleanEnvVar)(\"BETTER_AUTH_TELEMETRY\", false) || telemetryEnabled) && (context?.skipTestCheck || !(0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.isTest)());\n\t};\n\tconst enabled = await isEnabled();\n\tlet anonymousId;\n\tif (enabled) {\n\t\tanonymousId = await getProjectId(options.baseURL);\n\t\ttrack({\n\t\t\ttype: \"init\",\n\t\t\tpayload: {\n\t\t\t\tconfig: getTelemetryAuthConfig(options, context),\n\t\t\t\truntime: detectRuntime(),\n\t\t\t\tdatabase: await detectDatabase(),\n\t\t\t\tframework: await detectFramework(),\n\t\t\t\tenvironment: detectEnvironment(),\n\t\t\t\tsystemInfo: await detectSystemInfo(),\n\t\t\t\tpackageManager: detectPackageManager()\n\t\t\t},\n\t\t\tanonymousId\n\t\t});\n\t}\n\treturn { publish: async (event) => {\n\t\tif (!enabled) return;\n\t\tif (!anonymousId) anonymousId = await getProjectId(options.baseURL);\n\t\tawait track({\n\t\t\ttype: event.type,\n\t\t\tpayload: event.payload,\n\t\t\tanonymousId\n\t\t});\n\t} };\n}\n\n//#endregion\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGJldHRlci1hdXRoK3RlbGVtZXRyeUAxLjQuX2MxMTYzNmEzY2U2ZjhiMDU4NjRhMDllMzQ1YmE0NzEzL25vZGVfbW9kdWxlcy9AYmV0dGVyLWF1dGgvdGVsZW1ldHJ5L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEY7QUFDNUM7QUFDQztBQUNFO0FBQ21COztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSCw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYSxJQUFJLGVBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhLElBQUksZUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0RBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHNEQUFHO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQUcsb0JBQW9CLG9FQUFpQixJQUFJLHdFQUFxQixJQUFJLDhEQUFXLElBQUkscUVBQWtCLElBQUksdUVBQW9CLElBQUksMkVBQXdCLElBQUksbUVBQWdCLElBQUksa0ZBQStCLElBQUksa0VBQWU7QUFDNU87O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnRUFBUywrREFBK0QsNkRBQU07QUFDdEY7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1FQUFVO0FBQ2hDLFFBQVEsNkRBQU07QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNGQUEyQjtBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVFQUFnQjtBQUNsRSwyQkFBMkIsc0RBQUc7QUFDOUIsMkRBQTJEO0FBQzNEO0FBQ0EsbUVBQW1FLHlEQUFNO0FBQ3pFLGdEQUFnRCx5REFBTTtBQUN0RCxhQUFhLGdFQUFXO0FBQ3hCO0FBQ0E7QUFDQSxHQUFHLFFBQVEseURBQU07QUFDakI7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1RUFBZ0IscUZBQXFGLDZEQUFNO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNtRDtBQUNuRCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb3dubG9hZHNcXG5pa2ktcHJlbWl1bS0tLWNpbmVtYXRpYy1mb290d2Vhclxcbm9kZV9tb2R1bGVzXFwucG5wbVxcQGJldHRlci1hdXRoK3RlbGVtZXRyeUAxLjQuX2MxMTYzNmEzY2U2ZjhiMDU4NjRhMDllMzQ1YmE0NzEzXFxub2RlX21vZHVsZXNcXEBiZXR0ZXItYXV0aFxcdGVsZW1ldHJ5XFxkaXN0XFxpbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRU5WLCBlbnYsIGdldEJvb2xlYW5FbnZWYXIsIGdldEVudlZhciwgaXNUZXN0LCBsb2dnZXIgfSBmcm9tIFwiQGJldHRlci1hdXRoL2NvcmUvZW52XCI7XG5pbXBvcnQgeyBiZXR0ZXJGZXRjaCB9IGZyb20gXCJAYmV0dGVyLWZldGNoL2ZldGNoXCI7XG5pbXBvcnQgeyBiYXNlNjQgfSBmcm9tIFwiQGJldHRlci1hdXRoL3V0aWxzL2Jhc2U2NFwiO1xuaW1wb3J0IHsgY3JlYXRlSGFzaCB9IGZyb20gXCJAYmV0dGVyLWF1dGgvdXRpbHMvaGFzaFwiO1xuaW1wb3J0IHsgY3JlYXRlUmFuZG9tU3RyaW5nR2VuZXJhdG9yIH0gZnJvbSBcIkBiZXR0ZXItYXV0aC91dGlscy9yYW5kb21cIjtcblxuLy8jcmVnaW9uIHNyYy9kZXRlY3RvcnMvZGV0ZWN0LWF1dGgtY29uZmlnLnRzXG5mdW5jdGlvbiBnZXRUZWxlbWV0cnlBdXRoQ29uZmlnKG9wdGlvbnMsIGNvbnRleHQpIHtcblx0cmV0dXJuIHtcblx0XHRkYXRhYmFzZTogY29udGV4dD8uZGF0YWJhc2UsXG5cdFx0YWRhcHRlcjogY29udGV4dD8uYWRhcHRlcixcblx0XHRlbWFpbFZlcmlmaWNhdGlvbjoge1xuXHRcdFx0c2VuZFZlcmlmaWNhdGlvbkVtYWlsOiAhIW9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LnNlbmRWZXJpZmljYXRpb25FbWFpbCxcblx0XHRcdHNlbmRPblNpZ25VcDogISFvcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uPy5zZW5kT25TaWduVXAsXG5cdFx0XHRzZW5kT25TaWduSW46ICEhb3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uc2VuZE9uU2lnbkluLFxuXHRcdFx0YXV0b1NpZ25JbkFmdGVyVmVyaWZpY2F0aW9uOiAhIW9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LmF1dG9TaWduSW5BZnRlclZlcmlmaWNhdGlvbixcblx0XHRcdGV4cGlyZXNJbjogb3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uZXhwaXJlc0luLFxuXHRcdFx0b25FbWFpbFZlcmlmaWNhdGlvbjogISFvcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uPy5vbkVtYWlsVmVyaWZpY2F0aW9uLFxuXHRcdFx0YWZ0ZXJFbWFpbFZlcmlmaWNhdGlvbjogISFvcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uPy5hZnRlckVtYWlsVmVyaWZpY2F0aW9uXG5cdFx0fSxcblx0XHRlbWFpbEFuZFBhc3N3b3JkOiB7XG5cdFx0XHRlbmFibGVkOiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8uZW5hYmxlZCxcblx0XHRcdGRpc2FibGVTaWduVXA6ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5kaXNhYmxlU2lnblVwLFxuXHRcdFx0cmVxdWlyZUVtYWlsVmVyaWZpY2F0aW9uOiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8ucmVxdWlyZUVtYWlsVmVyaWZpY2F0aW9uLFxuXHRcdFx0bWF4UGFzc3dvcmRMZW5ndGg6IG9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8ubWF4UGFzc3dvcmRMZW5ndGgsXG5cdFx0XHRtaW5QYXNzd29yZExlbmd0aDogb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5taW5QYXNzd29yZExlbmd0aCxcblx0XHRcdHNlbmRSZXNldFBhc3N3b3JkOiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8uc2VuZFJlc2V0UGFzc3dvcmQsXG5cdFx0XHRyZXNldFBhc3N3b3JkVG9rZW5FeHBpcmVzSW46IG9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8ucmVzZXRQYXNzd29yZFRva2VuRXhwaXJlc0luLFxuXHRcdFx0b25QYXNzd29yZFJlc2V0OiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8ub25QYXNzd29yZFJlc2V0LFxuXHRcdFx0cGFzc3dvcmQ6IHtcblx0XHRcdFx0aGFzaDogISFvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/LnBhc3N3b3JkPy5oYXNoLFxuXHRcdFx0XHR2ZXJpZnk6ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5wYXNzd29yZD8udmVyaWZ5XG5cdFx0XHR9LFxuXHRcdFx0YXV0b1NpZ25JbjogISFvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/LmF1dG9TaWduSW4sXG5cdFx0XHRyZXZva2VTZXNzaW9uc09uUGFzc3dvcmRSZXNldDogISFvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/LnJldm9rZVNlc3Npb25zT25QYXNzd29yZFJlc2V0XG5cdFx0fSxcblx0XHRzb2NpYWxQcm92aWRlcnM6IE9iamVjdC5rZXlzKG9wdGlvbnMuc29jaWFsUHJvdmlkZXJzIHx8IHt9KS5tYXAoKHApID0+IHtcblx0XHRcdGNvbnN0IHByb3ZpZGVyID0gb3B0aW9ucy5zb2NpYWxQcm92aWRlcnM/LltwXTtcblx0XHRcdGlmICghcHJvdmlkZXIpIHJldHVybiB7fTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGlkOiBwLFxuXHRcdFx0XHRtYXBQcm9maWxlVG9Vc2VyOiAhIXByb3ZpZGVyLm1hcFByb2ZpbGVUb1VzZXIsXG5cdFx0XHRcdGRpc2FibGVEZWZhdWx0U2NvcGU6ICEhcHJvdmlkZXIuZGlzYWJsZURlZmF1bHRTY29wZSxcblx0XHRcdFx0ZGlzYWJsZUlkVG9rZW5TaWduSW46ICEhcHJvdmlkZXIuZGlzYWJsZUlkVG9rZW5TaWduSW4sXG5cdFx0XHRcdGRpc2FibGVJbXBsaWNpdFNpZ25VcDogcHJvdmlkZXIuZGlzYWJsZUltcGxpY2l0U2lnblVwLFxuXHRcdFx0XHRkaXNhYmxlU2lnblVwOiBwcm92aWRlci5kaXNhYmxlU2lnblVwLFxuXHRcdFx0XHRnZXRVc2VySW5mbzogISFwcm92aWRlci5nZXRVc2VySW5mbyxcblx0XHRcdFx0b3ZlcnJpZGVVc2VySW5mb09uU2lnbkluOiAhIXByb3ZpZGVyLm92ZXJyaWRlVXNlckluZm9PblNpZ25Jbixcblx0XHRcdFx0cHJvbXB0OiBwcm92aWRlci5wcm9tcHQsXG5cdFx0XHRcdHZlcmlmeUlkVG9rZW46ICEhcHJvdmlkZXIudmVyaWZ5SWRUb2tlbixcblx0XHRcdFx0c2NvcGU6IHByb3ZpZGVyLnNjb3BlLFxuXHRcdFx0XHRyZWZyZXNoQWNjZXNzVG9rZW46ICEhcHJvdmlkZXIucmVmcmVzaEFjY2Vzc1Rva2VuXG5cdFx0XHR9O1xuXHRcdH0pLFxuXHRcdHBsdWdpbnM6IG9wdGlvbnMucGx1Z2lucz8ubWFwKChwKSA9PiBwLmlkLnRvU3RyaW5nKCkpLFxuXHRcdHVzZXI6IHtcblx0XHRcdG1vZGVsTmFtZTogb3B0aW9ucy51c2VyPy5tb2RlbE5hbWUsXG5cdFx0XHRmaWVsZHM6IG9wdGlvbnMudXNlcj8uZmllbGRzLFxuXHRcdFx0YWRkaXRpb25hbEZpZWxkczogb3B0aW9ucy51c2VyPy5hZGRpdGlvbmFsRmllbGRzLFxuXHRcdFx0Y2hhbmdlRW1haWw6IHtcblx0XHRcdFx0ZW5hYmxlZDogb3B0aW9ucy51c2VyPy5jaGFuZ2VFbWFpbD8uZW5hYmxlZCxcblx0XHRcdFx0c2VuZENoYW5nZUVtYWlsVmVyaWZpY2F0aW9uOiAhIW9wdGlvbnMudXNlcj8uY2hhbmdlRW1haWw/LnNlbmRDaGFuZ2VFbWFpbFZlcmlmaWNhdGlvblxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dmVyaWZpY2F0aW9uOiB7XG5cdFx0XHRtb2RlbE5hbWU6IG9wdGlvbnMudmVyaWZpY2F0aW9uPy5tb2RlbE5hbWUsXG5cdFx0XHRkaXNhYmxlQ2xlYW51cDogb3B0aW9ucy52ZXJpZmljYXRpb24/LmRpc2FibGVDbGVhbnVwLFxuXHRcdFx0ZmllbGRzOiBvcHRpb25zLnZlcmlmaWNhdGlvbj8uZmllbGRzXG5cdFx0fSxcblx0XHRzZXNzaW9uOiB7XG5cdFx0XHRtb2RlbE5hbWU6IG9wdGlvbnMuc2Vzc2lvbj8ubW9kZWxOYW1lLFxuXHRcdFx0YWRkaXRpb25hbEZpZWxkczogb3B0aW9ucy5zZXNzaW9uPy5hZGRpdGlvbmFsRmllbGRzLFxuXHRcdFx0Y29va2llQ2FjaGU6IHtcblx0XHRcdFx0ZW5hYmxlZDogb3B0aW9ucy5zZXNzaW9uPy5jb29raWVDYWNoZT8uZW5hYmxlZCxcblx0XHRcdFx0bWF4QWdlOiBvcHRpb25zLnNlc3Npb24/LmNvb2tpZUNhY2hlPy5tYXhBZ2UsXG5cdFx0XHRcdHN0cmF0ZWd5OiBvcHRpb25zLnNlc3Npb24/LmNvb2tpZUNhY2hlPy5zdHJhdGVneVxuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVTZXNzaW9uUmVmcmVzaDogb3B0aW9ucy5zZXNzaW9uPy5kaXNhYmxlU2Vzc2lvblJlZnJlc2gsXG5cdFx0XHRleHBpcmVzSW46IG9wdGlvbnMuc2Vzc2lvbj8uZXhwaXJlc0luLFxuXHRcdFx0ZmllbGRzOiBvcHRpb25zLnNlc3Npb24/LmZpZWxkcyxcblx0XHRcdGZyZXNoQWdlOiBvcHRpb25zLnNlc3Npb24/LmZyZXNoQWdlLFxuXHRcdFx0cHJlc2VydmVTZXNzaW9uSW5EYXRhYmFzZTogb3B0aW9ucy5zZXNzaW9uPy5wcmVzZXJ2ZVNlc3Npb25JbkRhdGFiYXNlLFxuXHRcdFx0c3RvcmVTZXNzaW9uSW5EYXRhYmFzZTogb3B0aW9ucy5zZXNzaW9uPy5zdG9yZVNlc3Npb25JbkRhdGFiYXNlLFxuXHRcdFx0dXBkYXRlQWdlOiBvcHRpb25zLnNlc3Npb24/LnVwZGF0ZUFnZVxuXHRcdH0sXG5cdFx0YWNjb3VudDoge1xuXHRcdFx0bW9kZWxOYW1lOiBvcHRpb25zLmFjY291bnQ/Lm1vZGVsTmFtZSxcblx0XHRcdGZpZWxkczogb3B0aW9ucy5hY2NvdW50Py5maWVsZHMsXG5cdFx0XHRlbmNyeXB0T0F1dGhUb2tlbnM6IG9wdGlvbnMuYWNjb3VudD8uZW5jcnlwdE9BdXRoVG9rZW5zLFxuXHRcdFx0dXBkYXRlQWNjb3VudE9uU2lnbkluOiBvcHRpb25zLmFjY291bnQ/LnVwZGF0ZUFjY291bnRPblNpZ25Jbixcblx0XHRcdGFjY291bnRMaW5raW5nOiB7XG5cdFx0XHRcdGVuYWJsZWQ6IG9wdGlvbnMuYWNjb3VudD8uYWNjb3VudExpbmtpbmc/LmVuYWJsZWQsXG5cdFx0XHRcdHRydXN0ZWRQcm92aWRlcnM6IG9wdGlvbnMuYWNjb3VudD8uYWNjb3VudExpbmtpbmc/LnRydXN0ZWRQcm92aWRlcnMsXG5cdFx0XHRcdHVwZGF0ZVVzZXJJbmZvT25MaW5rOiBvcHRpb25zLmFjY291bnQ/LmFjY291bnRMaW5raW5nPy51cGRhdGVVc2VySW5mb09uTGluayxcblx0XHRcdFx0YWxsb3dVbmxpbmtpbmdBbGw6IG9wdGlvbnMuYWNjb3VudD8uYWNjb3VudExpbmtpbmc/LmFsbG93VW5saW5raW5nQWxsXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRob29rczoge1xuXHRcdFx0YWZ0ZXI6ICEhb3B0aW9ucy5ob29rcz8uYWZ0ZXIsXG5cdFx0XHRiZWZvcmU6ICEhb3B0aW9ucy5ob29rcz8uYmVmb3JlXG5cdFx0fSxcblx0XHRzZWNvbmRhcnlTdG9yYWdlOiAhIW9wdGlvbnMuc2Vjb25kYXJ5U3RvcmFnZSxcblx0XHRhZHZhbmNlZDoge1xuXHRcdFx0Y29va2llUHJlZml4OiAhIW9wdGlvbnMuYWR2YW5jZWQ/LmNvb2tpZVByZWZpeCxcblx0XHRcdGNvb2tpZXM6ICEhb3B0aW9ucy5hZHZhbmNlZD8uY29va2llcyxcblx0XHRcdGNyb3NzU3ViRG9tYWluQ29va2llczoge1xuXHRcdFx0XHRkb21haW46ICEhb3B0aW9ucy5hZHZhbmNlZD8uY3Jvc3NTdWJEb21haW5Db29raWVzPy5kb21haW4sXG5cdFx0XHRcdGVuYWJsZWQ6IG9wdGlvbnMuYWR2YW5jZWQ/LmNyb3NzU3ViRG9tYWluQ29va2llcz8uZW5hYmxlZCxcblx0XHRcdFx0YWRkaXRpb25hbENvb2tpZXM6IG9wdGlvbnMuYWR2YW5jZWQ/LmNyb3NzU3ViRG9tYWluQ29va2llcz8uYWRkaXRpb25hbENvb2tpZXNcblx0XHRcdH0sXG5cdFx0XHRkYXRhYmFzZToge1xuXHRcdFx0XHR1c2VOdW1iZXJJZDogISFvcHRpb25zLmFkdmFuY2VkPy5kYXRhYmFzZT8udXNlTnVtYmVySWQgfHwgb3B0aW9ucy5hZHZhbmNlZD8uZGF0YWJhc2U/LmdlbmVyYXRlSWQgPT09IFwic2VyaWFsXCIsXG5cdFx0XHRcdGdlbmVyYXRlSWQ6IG9wdGlvbnMuYWR2YW5jZWQ/LmRhdGFiYXNlPy5nZW5lcmF0ZUlkLFxuXHRcdFx0XHRkZWZhdWx0RmluZE1hbnlMaW1pdDogb3B0aW9ucy5hZHZhbmNlZD8uZGF0YWJhc2U/LmRlZmF1bHRGaW5kTWFueUxpbWl0XG5cdFx0XHR9LFxuXHRcdFx0dXNlU2VjdXJlQ29va2llczogb3B0aW9ucy5hZHZhbmNlZD8udXNlU2VjdXJlQ29va2llcyxcblx0XHRcdGlwQWRkcmVzczoge1xuXHRcdFx0XHRkaXNhYmxlSXBUcmFja2luZzogb3B0aW9ucy5hZHZhbmNlZD8uaXBBZGRyZXNzPy5kaXNhYmxlSXBUcmFja2luZyxcblx0XHRcdFx0aXBBZGRyZXNzSGVhZGVyczogb3B0aW9ucy5hZHZhbmNlZD8uaXBBZGRyZXNzPy5pcEFkZHJlc3NIZWFkZXJzXG5cdFx0XHR9LFxuXHRcdFx0ZGlzYWJsZUNTUkZDaGVjazogb3B0aW9ucy5hZHZhbmNlZD8uZGlzYWJsZUNTUkZDaGVjayxcblx0XHRcdGNvb2tpZUF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0ZXhwaXJlczogb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/LmV4cGlyZXMsXG5cdFx0XHRcdHNlY3VyZTogb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/LnNlY3VyZSxcblx0XHRcdFx0c2FtZVNpdGU6IG9wdGlvbnMuYWR2YW5jZWQ/LmRlZmF1bHRDb29raWVBdHRyaWJ1dGVzPy5zYW1lU2l0ZSxcblx0XHRcdFx0ZG9tYWluOiAhIW9wdGlvbnMuYWR2YW5jZWQ/LmRlZmF1bHRDb29raWVBdHRyaWJ1dGVzPy5kb21haW4sXG5cdFx0XHRcdHBhdGg6IG9wdGlvbnMuYWR2YW5jZWQ/LmRlZmF1bHRDb29raWVBdHRyaWJ1dGVzPy5wYXRoLFxuXHRcdFx0XHRodHRwT25seTogb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/Lmh0dHBPbmx5XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0cnVzdGVkT3JpZ2luczogb3B0aW9ucy50cnVzdGVkT3JpZ2lucz8ubGVuZ3RoLFxuXHRcdHJhdGVMaW1pdDoge1xuXHRcdFx0c3RvcmFnZTogb3B0aW9ucy5yYXRlTGltaXQ/LnN0b3JhZ2UsXG5cdFx0XHRtb2RlbE5hbWU6IG9wdGlvbnMucmF0ZUxpbWl0Py5tb2RlbE5hbWUsXG5cdFx0XHR3aW5kb3c6IG9wdGlvbnMucmF0ZUxpbWl0Py53aW5kb3csXG5cdFx0XHRjdXN0b21TdG9yYWdlOiAhIW9wdGlvbnMucmF0ZUxpbWl0Py5jdXN0b21TdG9yYWdlLFxuXHRcdFx0ZW5hYmxlZDogb3B0aW9ucy5yYXRlTGltaXQ/LmVuYWJsZWQsXG5cdFx0XHRtYXg6IG9wdGlvbnMucmF0ZUxpbWl0Py5tYXhcblx0XHR9LFxuXHRcdG9uQVBJRXJyb3I6IHtcblx0XHRcdGVycm9yVVJMOiBvcHRpb25zLm9uQVBJRXJyb3I/LmVycm9yVVJMLFxuXHRcdFx0b25FcnJvcjogISFvcHRpb25zLm9uQVBJRXJyb3I/Lm9uRXJyb3IsXG5cdFx0XHR0aHJvdzogb3B0aW9ucy5vbkFQSUVycm9yPy50aHJvd1xuXHRcdH0sXG5cdFx0bG9nZ2VyOiB7XG5cdFx0XHRkaXNhYmxlZDogb3B0aW9ucy5sb2dnZXI/LmRpc2FibGVkLFxuXHRcdFx0bGV2ZWw6IG9wdGlvbnMubG9nZ2VyPy5sZXZlbCxcblx0XHRcdGxvZzogISFvcHRpb25zLmxvZ2dlcj8ubG9nXG5cdFx0fSxcblx0XHRkYXRhYmFzZUhvb2tzOiB7XG5cdFx0XHR1c2VyOiB7XG5cdFx0XHRcdGNyZWF0ZToge1xuXHRcdFx0XHRcdGFmdGVyOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8udXNlcj8uY3JlYXRlPy5hZnRlcixcblx0XHRcdFx0XHRiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy51c2VyPy5jcmVhdGU/LmJlZm9yZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR1cGRhdGU6IHtcblx0XHRcdFx0XHRhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnVzZXI/LnVwZGF0ZT8uYWZ0ZXIsXG5cdFx0XHRcdFx0YmVmb3JlOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8udXNlcj8udXBkYXRlPy5iZWZvcmVcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHNlc3Npb246IHtcblx0XHRcdFx0Y3JlYXRlOiB7XG5cdFx0XHRcdFx0YWZ0ZXI6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy5zZXNzaW9uPy5jcmVhdGU/LmFmdGVyLFxuXHRcdFx0XHRcdGJlZm9yZTogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnNlc3Npb24/LmNyZWF0ZT8uYmVmb3JlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHVwZGF0ZToge1xuXHRcdFx0XHRcdGFmdGVyOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8uc2Vzc2lvbj8udXBkYXRlPy5hZnRlcixcblx0XHRcdFx0XHRiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy5zZXNzaW9uPy51cGRhdGU/LmJlZm9yZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0YWNjb3VudDoge1xuXHRcdFx0XHRjcmVhdGU6IHtcblx0XHRcdFx0XHRhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LmFjY291bnQ/LmNyZWF0ZT8uYWZ0ZXIsXG5cdFx0XHRcdFx0YmVmb3JlOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8uYWNjb3VudD8uY3JlYXRlPy5iZWZvcmVcblx0XHRcdFx0fSxcblx0XHRcdFx0dXBkYXRlOiB7XG5cdFx0XHRcdFx0YWZ0ZXI6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy5hY2NvdW50Py51cGRhdGU/LmFmdGVyLFxuXHRcdFx0XHRcdGJlZm9yZTogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LmFjY291bnQ/LnVwZGF0ZT8uYmVmb3JlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR2ZXJpZmljYXRpb246IHtcblx0XHRcdFx0Y3JlYXRlOiB7XG5cdFx0XHRcdFx0YWZ0ZXI6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy52ZXJpZmljYXRpb24/LmNyZWF0ZT8uYWZ0ZXIsXG5cdFx0XHRcdFx0YmVmb3JlOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8udmVyaWZpY2F0aW9uPy5jcmVhdGU/LmJlZm9yZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR1cGRhdGU6IHtcblx0XHRcdFx0XHRhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnZlcmlmaWNhdGlvbj8udXBkYXRlPy5hZnRlcixcblx0XHRcdFx0XHRiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy52ZXJpZmljYXRpb24/LnVwZGF0ZT8uYmVmb3JlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy91dGlscy9wYWNrYWdlLWpzb24udHNcbmxldCBwYWNrYWdlSlNPTkNhY2hlO1xuYXN5bmMgZnVuY3Rpb24gcmVhZFJvb3RQYWNrYWdlSnNvbigpIHtcblx0aWYgKHBhY2thZ2VKU09OQ2FjaGUpIHJldHVybiBwYWNrYWdlSlNPTkNhY2hlO1xuXHR0cnkge1xuXHRcdGNvbnN0IGN3ZCA9IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwcm9jZXNzLmN3ZCA9PT0gXCJmdW5jdGlvblwiID8gcHJvY2Vzcy5jd2QoKSA6IFwiXCI7XG5cdFx0aWYgKCFjd2QpIHJldHVybiB2b2lkIDA7XG5cdFx0Y29uc3QgaW1wb3J0UnVudGltZSQxID0gKG0pID0+IEZ1bmN0aW9uKFwibW1cIiwgXCJyZXR1cm4gaW1wb3J0KG1tKVwiKShtKTtcblx0XHRjb25zdCBbeyBkZWZhdWx0OiBmcyB9LCB7IGRlZmF1bHQ6IHBhdGggfV0gPSBhd2FpdCBQcm9taXNlLmFsbChbaW1wb3J0UnVudGltZSQxKFwiZnMvcHJvbWlzZXNcIiksIGltcG9ydFJ1bnRpbWUkMShcInBhdGhcIildKTtcblx0XHRjb25zdCByYXcgPSBhd2FpdCBmcy5yZWFkRmlsZShwYXRoLmpvaW4oY3dkLCBcInBhY2thZ2UuanNvblwiKSwgXCJ1dGYtOFwiKTtcblx0XHRwYWNrYWdlSlNPTkNhY2hlID0gSlNPTi5wYXJzZShyYXcpO1xuXHRcdHJldHVybiBwYWNrYWdlSlNPTkNhY2hlO1xuXHR9IGNhdGNoIHt9XG59XG5hc3luYyBmdW5jdGlvbiBnZXRQYWNrYWdlVmVyc2lvbihwa2cpIHtcblx0aWYgKHBhY2thZ2VKU09OQ2FjaGUpIHJldHVybiBwYWNrYWdlSlNPTkNhY2hlLmRlcGVuZGVuY2llcz8uW3BrZ10gfHwgcGFja2FnZUpTT05DYWNoZS5kZXZEZXBlbmRlbmNpZXM/Lltwa2ddIHx8IHBhY2thZ2VKU09OQ2FjaGUucGVlckRlcGVuZGVuY2llcz8uW3BrZ107XG5cdHRyeSB7XG5cdFx0Y29uc3QgY3dkID0gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHByb2Nlc3MuY3dkID09PSBcImZ1bmN0aW9uXCIgPyBwcm9jZXNzLmN3ZCgpIDogXCJcIjtcblx0XHRpZiAoIWN3ZCkgdGhyb3cgbmV3IEVycm9yKFwibm8tY3dkXCIpO1xuXHRcdGNvbnN0IGltcG9ydFJ1bnRpbWUkMSA9IChtKSA9PiBGdW5jdGlvbihcIm1tXCIsIFwicmV0dXJuIGltcG9ydChtbSlcIikobSk7XG5cdFx0Y29uc3QgW3sgZGVmYXVsdDogZnMgfSwgeyBkZWZhdWx0OiBwYXRoIH1dID0gYXdhaXQgUHJvbWlzZS5hbGwoW2ltcG9ydFJ1bnRpbWUkMShcImZzL3Byb21pc2VzXCIpLCBpbXBvcnRSdW50aW1lJDEoXCJwYXRoXCIpXSk7XG5cdFx0Y29uc3QgcGtnSnNvblBhdGggPSBwYXRoLmpvaW4oY3dkLCBcIm5vZGVfbW9kdWxlc1wiLCBwa2csIFwicGFja2FnZS5qc29uXCIpO1xuXHRcdGNvbnN0IHJhdyA9IGF3YWl0IGZzLnJlYWRGaWxlKHBrZ0pzb25QYXRoLCBcInV0Zi04XCIpO1xuXHRcdHJldHVybiBKU09OLnBhcnNlKHJhdykudmVyc2lvbiB8fCBhd2FpdCBnZXRWZXJzaW9uRnJvbUxvY2FsUGFja2FnZUpzb24ocGtnKSB8fCB2b2lkIDA7XG5cdH0gY2F0Y2gge31cblx0cmV0dXJuIGF3YWl0IGdldFZlcnNpb25Gcm9tTG9jYWxQYWNrYWdlSnNvbihwa2cpO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0VmVyc2lvbkZyb21Mb2NhbFBhY2thZ2VKc29uKHBrZykge1xuXHRjb25zdCBqc29uID0gYXdhaXQgcmVhZFJvb3RQYWNrYWdlSnNvbigpO1xuXHRpZiAoIWpzb24pIHJldHVybiB2b2lkIDA7XG5cdHJldHVybiB7XG5cdFx0Li4uanNvbi5kZXBlbmRlbmNpZXMsXG5cdFx0Li4uanNvbi5kZXZEZXBlbmRlbmNpZXMsXG5cdFx0Li4uanNvbi5wZWVyRGVwZW5kZW5jaWVzXG5cdH1bcGtnXTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldE5hbWVGcm9tTG9jYWxQYWNrYWdlSnNvbigpIHtcblx0cmV0dXJuIChhd2FpdCByZWFkUm9vdFBhY2thZ2VKc29uKCkpPy5uYW1lO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvZGV0ZWN0b3JzL2RldGVjdC1kYXRhYmFzZS50c1xuY29uc3QgREFUQUJBU0VTID0ge1xuXHRwZzogXCJwb3N0Z3Jlc3FsXCIsXG5cdG15c3FsOiBcIm15c3FsXCIsXG5cdG1hcmlhZGI6IFwibWFyaWFkYlwiLFxuXHRzcWxpdGUzOiBcInNxbGl0ZVwiLFxuXHRcImJldHRlci1zcWxpdGUzXCI6IFwic3FsaXRlXCIsXG5cdFwiQHByaXNtYS9jbGllbnRcIjogXCJwcmlzbWFcIixcblx0bW9uZ29vc2U6IFwibW9uZ29kYlwiLFxuXHRtb25nb2RiOiBcIm1vbmdvZGJcIixcblx0XCJkcml6emxlLW9ybVwiOiBcImRyaXp6bGVcIlxufTtcbmFzeW5jIGZ1bmN0aW9uIGRldGVjdERhdGFiYXNlKCkge1xuXHRmb3IgKGNvbnN0IFtwa2csIG5hbWVdIG9mIE9iamVjdC5lbnRyaWVzKERBVEFCQVNFUykpIHtcblx0XHRjb25zdCB2ZXJzaW9uID0gYXdhaXQgZ2V0UGFja2FnZVZlcnNpb24ocGtnKTtcblx0XHRpZiAodmVyc2lvbikgcmV0dXJuIHtcblx0XHRcdG5hbWUsXG5cdFx0XHR2ZXJzaW9uXG5cdFx0fTtcblx0fVxufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvZGV0ZWN0b3JzL2RldGVjdC1mcmFtZXdvcmsudHNcbmNvbnN0IEZSQU1FV09SS1MgPSB7XG5cdG5leHQ6IFwibmV4dFwiLFxuXHRudXh0OiBcIm51eHRcIixcblx0XCJAcmVtaXgtcnVuL3NlcnZlci1ydW50aW1lXCI6IFwicmVtaXhcIixcblx0YXN0cm86IFwiYXN0cm9cIixcblx0XCJAc3ZlbHRlanMva2l0XCI6IFwic3ZlbHRla2l0XCIsXG5cdFwic29saWQtc3RhcnRcIjogXCJzb2xpZC1zdGFydFwiLFxuXHRcInRhbnN0YWNrLXN0YXJ0XCI6IFwidGFuc3RhY2stc3RhcnRcIixcblx0aG9ubzogXCJob25vXCIsXG5cdGV4cHJlc3M6IFwiZXhwcmVzc1wiLFxuXHRlbHlzaWE6IFwiZWx5c2lhXCIsXG5cdGV4cG86IFwiZXhwb1wiXG59O1xuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0RnJhbWV3b3JrKCkge1xuXHRmb3IgKGNvbnN0IFtwa2csIG5hbWVdIG9mIE9iamVjdC5lbnRyaWVzKEZSQU1FV09SS1MpKSB7XG5cdFx0Y29uc3QgdmVyc2lvbiA9IGF3YWl0IGdldFBhY2thZ2VWZXJzaW9uKHBrZyk7XG5cdFx0aWYgKHZlcnNpb24pIHJldHVybiB7XG5cdFx0XHRuYW1lLFxuXHRcdFx0dmVyc2lvblxuXHRcdH07XG5cdH1cbn1cblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL2RldGVjdG9ycy9kZXRlY3QtcHJvamVjdC1pbmZvLnRzXG5mdW5jdGlvbiBkZXRlY3RQYWNrYWdlTWFuYWdlcigpIHtcblx0Y29uc3QgdXNlckFnZW50ID0gZW52Lm5wbV9jb25maWdfdXNlcl9hZ2VudDtcblx0aWYgKCF1c2VyQWdlbnQpIHJldHVybjtcblx0Y29uc3QgcG1TcGVjID0gdXNlckFnZW50LnNwbGl0KFwiIFwiKVswXTtcblx0Y29uc3Qgc2VwYXJhdG9yUG9zID0gcG1TcGVjLmxhc3RJbmRleE9mKFwiL1wiKTtcblx0Y29uc3QgbmFtZSA9IHBtU3BlYy5zdWJzdHJpbmcoMCwgc2VwYXJhdG9yUG9zKTtcblx0cmV0dXJuIHtcblx0XHRuYW1lOiBuYW1lID09PSBcIm5wbWluc3RhbGxcIiA/IFwiY25wbVwiIDogbmFtZSxcblx0XHR2ZXJzaW9uOiBwbVNwZWMuc3Vic3RyaW5nKHNlcGFyYXRvclBvcyArIDEpXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy91dGlscy9pbXBvcnQtdXRpbC50c1xuY29uc3QgaW1wb3J0UnVudGltZSA9IChtKSA9PiB7XG5cdHJldHVybiBGdW5jdGlvbihcIm1tXCIsIFwicmV0dXJuIGltcG9ydChtbSlcIikobSk7XG59O1xuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvZGV0ZWN0b3JzL2RldGVjdC1zeXN0ZW0taW5mby50c1xuZnVuY3Rpb24gZ2V0VmVuZG9yKCkge1xuXHRjb25zdCBoYXNBbnkgPSAoLi4ua2V5cykgPT4ga2V5cy5zb21lKChrKSA9PiBCb29sZWFuKGVudltrXSkpO1xuXHRpZiAoaGFzQW55KFwiQ0ZfUEFHRVNcIiwgXCJDRl9QQUdFU19VUkxcIiwgXCJDRl9BQ0NPVU5UX0lEXCIpIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCA9PT0gXCJDbG91ZGZsYXJlLVdvcmtlcnNcIikgcmV0dXJuIFwiY2xvdWRmbGFyZVwiO1xuXHRpZiAoaGFzQW55KFwiVkVSQ0VMXCIsIFwiVkVSQ0VMX1VSTFwiLCBcIlZFUkNFTF9FTlZcIikpIHJldHVybiBcInZlcmNlbFwiO1xuXHRpZiAoaGFzQW55KFwiTkVUTElGWVwiLCBcIk5FVExJRllfVVJMXCIpKSByZXR1cm4gXCJuZXRsaWZ5XCI7XG5cdGlmIChoYXNBbnkoXCJSRU5ERVJcIiwgXCJSRU5ERVJfVVJMXCIsIFwiUkVOREVSX0lOVEVSTkFMX0hPU1ROQU1FXCIsIFwiUkVOREVSX1NFUlZJQ0VfSURcIikpIHJldHVybiBcInJlbmRlclwiO1xuXHRpZiAoaGFzQW55KFwiQVdTX0xBTUJEQV9GVU5DVElPTl9OQU1FXCIsIFwiQVdTX0VYRUNVVElPTl9FTlZcIiwgXCJMQU1CREFfVEFTS19ST09UXCIpKSByZXR1cm4gXCJhd3NcIjtcblx0aWYgKGhhc0FueShcIkdPT0dMRV9DTE9VRF9GVU5DVElPTl9OQU1FXCIsIFwiR09PR0xFX0NMT1VEX1BST0pFQ1RcIiwgXCJHQ1BfUFJPSkVDVFwiLCBcIktfU0VSVklDRVwiKSkgcmV0dXJuIFwiZ2NwXCI7XG5cdGlmIChoYXNBbnkoXCJBWlVSRV9GVU5DVElPTl9OQU1FXCIsIFwiRlVOQ1RJT05TX1dPUktFUl9SVU5USU1FXCIsIFwiV0VCU0lURV9JTlNUQU5DRV9JRFwiLCBcIldFQlNJVEVfU0lURV9OQU1FXCIpKSByZXR1cm4gXCJhenVyZVwiO1xuXHRpZiAoaGFzQW55KFwiREVOT19ERVBMT1lNRU5UX0lEXCIsIFwiREVOT19SRUdJT05cIikpIHJldHVybiBcImRlbm8tZGVwbG95XCI7XG5cdGlmIChoYXNBbnkoXCJGTFlfQVBQX05BTUVcIiwgXCJGTFlfUkVHSU9OXCIsIFwiRkxZX0FMTE9DX0lEXCIpKSByZXR1cm4gXCJmbHktaW9cIjtcblx0aWYgKGhhc0FueShcIlJBSUxXQVlfU1RBVElDX1VSTFwiLCBcIlJBSUxXQVlfRU5WSVJPTk1FTlRfTkFNRVwiKSkgcmV0dXJuIFwicmFpbHdheVwiO1xuXHRpZiAoaGFzQW55KFwiRFlOT1wiLCBcIkhFUk9LVV9BUFBfTkFNRVwiKSkgcmV0dXJuIFwiaGVyb2t1XCI7XG5cdGlmIChoYXNBbnkoXCJET19ERVBMT1lNRU5UX0lEXCIsIFwiRE9fQVBQX05BTUVcIiwgXCJESUdJVEFMT0NFQU5cIikpIHJldHVybiBcImRpZ2l0YWxvY2VhblwiO1xuXHRpZiAoaGFzQW55KFwiS09ZRUJcIiwgXCJLT1lFQl9ERVBMT1lNRU5UX0lEXCIsIFwiS09ZRUJfQVBQX05BTUVcIikpIHJldHVybiBcImtveWViXCI7XG5cdHJldHVybiBudWxsO1xufVxuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0U3lzdGVtSW5mbygpIHtcblx0dHJ5IHtcblx0XHRpZiAoZ2V0VmVuZG9yKCkgPT09IFwiY2xvdWRmbGFyZVwiKSByZXR1cm4gXCJjbG91ZGZsYXJlXCI7XG5cdFx0Y29uc3Qgb3MgPSBhd2FpdCBpbXBvcnRSdW50aW1lKFwib3NcIik7XG5cdFx0Y29uc3QgY3B1cyA9IG9zLmNwdXMoKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZGVwbG95bWVudFZlbmRvcjogZ2V0VmVuZG9yKCksXG5cdFx0XHRzeXN0ZW1QbGF0Zm9ybTogb3MucGxhdGZvcm0oKSxcblx0XHRcdHN5c3RlbVJlbGVhc2U6IG9zLnJlbGVhc2UoKSxcblx0XHRcdHN5c3RlbUFyY2hpdGVjdHVyZTogb3MuYXJjaCgpLFxuXHRcdFx0Y3B1Q291bnQ6IGNwdXMubGVuZ3RoLFxuXHRcdFx0Y3B1TW9kZWw6IGNwdXMubGVuZ3RoID8gY3B1c1swXS5tb2RlbCA6IG51bGwsXG5cdFx0XHRjcHVTcGVlZDogY3B1cy5sZW5ndGggPyBjcHVzWzBdLnNwZWVkIDogbnVsbCxcblx0XHRcdG1lbW9yeTogb3MudG90YWxtZW0oKSxcblx0XHRcdGlzV1NMOiBhd2FpdCBpc1dzbCgpLFxuXHRcdFx0aXNEb2NrZXI6IGF3YWl0IGlzRG9ja2VyKCksXG5cdFx0XHRpc1RUWTogdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy5zdGRvdXQgPyBwcm9jZXNzLnN0ZG91dC5pc1RUWSA6IG51bGxcblx0XHR9O1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3lzdGVtUGxhdGZvcm06IG51bGwsXG5cdFx0XHRzeXN0ZW1SZWxlYXNlOiBudWxsLFxuXHRcdFx0c3lzdGVtQXJjaGl0ZWN0dXJlOiBudWxsLFxuXHRcdFx0Y3B1Q291bnQ6IG51bGwsXG5cdFx0XHRjcHVNb2RlbDogbnVsbCxcblx0XHRcdGNwdVNwZWVkOiBudWxsLFxuXHRcdFx0bWVtb3J5OiBudWxsLFxuXHRcdFx0aXNXU0w6IG51bGwsXG5cdFx0XHRpc0RvY2tlcjogbnVsbCxcblx0XHRcdGlzVFRZOiBudWxsXG5cdFx0fTtcblx0fVxufVxubGV0IGlzRG9ja2VyQ2FjaGVkO1xuYXN5bmMgZnVuY3Rpb24gaGFzRG9ja2VyRW52KCkge1xuXHRpZiAoZ2V0VmVuZG9yKCkgPT09IFwiY2xvdWRmbGFyZVwiKSByZXR1cm4gZmFsc2U7XG5cdHRyeSB7XG5cdFx0KGF3YWl0IGltcG9ydFJ1bnRpbWUoXCJmc1wiKSkuc3RhdFN5bmMoXCIvLmRvY2tlcmVudlwiKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5hc3luYyBmdW5jdGlvbiBoYXNEb2NrZXJDR3JvdXAoKSB7XG5cdGlmIChnZXRWZW5kb3IoKSA9PT0gXCJjbG91ZGZsYXJlXCIpIHJldHVybiBmYWxzZTtcblx0dHJ5IHtcblx0XHRyZXR1cm4gKGF3YWl0IGltcG9ydFJ1bnRpbWUoXCJmc1wiKSkucmVhZEZpbGVTeW5jKFwiL3Byb2Mvc2VsZi9jZ3JvdXBcIiwgXCJ1dGY4XCIpLmluY2x1ZGVzKFwiZG9ja2VyXCIpO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGlzRG9ja2VyKCkge1xuXHRpZiAoZ2V0VmVuZG9yKCkgPT09IFwiY2xvdWRmbGFyZVwiKSByZXR1cm4gZmFsc2U7XG5cdGlmIChpc0RvY2tlckNhY2hlZCA9PT0gdm9pZCAwKSBpc0RvY2tlckNhY2hlZCA9IGF3YWl0IGhhc0RvY2tlckVudigpIHx8IGF3YWl0IGhhc0RvY2tlckNHcm91cCgpO1xuXHRyZXR1cm4gaXNEb2NrZXJDYWNoZWQ7XG59XG5hc3luYyBmdW5jdGlvbiBpc1dzbCgpIHtcblx0dHJ5IHtcblx0XHRpZiAoZ2V0VmVuZG9yKCkgPT09IFwiY2xvdWRmbGFyZVwiKSByZXR1cm4gZmFsc2U7XG5cdFx0aWYgKHR5cGVvZiBwcm9jZXNzID09PSBcInVuZGVmaW5lZFwiIHx8IHByb2Nlc3M/LnBsYXRmb3JtICE9PSBcImxpbnV4XCIpIHJldHVybiBmYWxzZTtcblx0XHRjb25zdCBmcyA9IGF3YWl0IGltcG9ydFJ1bnRpbWUoXCJmc1wiKTtcblx0XHRpZiAoKGF3YWl0IGltcG9ydFJ1bnRpbWUoXCJvc1wiKSkucmVsZWFzZSgpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJtaWNyb3NvZnRcIikpIHtcblx0XHRcdGlmIChhd2FpdCBpc0luc2lkZUNvbnRhaW5lcigpKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZzLnJlYWRGaWxlU3luYyhcIi9wcm9jL3ZlcnNpb25cIiwgXCJ1dGY4XCIpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJtaWNyb3NvZnRcIikgPyAhYXdhaXQgaXNJbnNpZGVDb250YWluZXIoKSA6IGZhbHNlO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbmxldCBpc0luc2lkZUNvbnRhaW5lckNhY2hlZDtcbmNvbnN0IGhhc0NvbnRhaW5lckVudiA9IGFzeW5jICgpID0+IHtcblx0aWYgKGdldFZlbmRvcigpID09PSBcImNsb3VkZmxhcmVcIikgcmV0dXJuIGZhbHNlO1xuXHR0cnkge1xuXHRcdChhd2FpdCBpbXBvcnRSdW50aW1lKFwiZnNcIikpLnN0YXRTeW5jKFwiL3J1bi8uY29udGFpbmVyZW52XCIpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG5hc3luYyBmdW5jdGlvbiBpc0luc2lkZUNvbnRhaW5lcigpIHtcblx0aWYgKGlzSW5zaWRlQ29udGFpbmVyQ2FjaGVkID09PSB2b2lkIDApIGlzSW5zaWRlQ29udGFpbmVyQ2FjaGVkID0gYXdhaXQgaGFzQ29udGFpbmVyRW52KCkgfHwgYXdhaXQgaXNEb2NrZXIoKTtcblx0cmV0dXJuIGlzSW5zaWRlQ29udGFpbmVyQ2FjaGVkO1xufVxuZnVuY3Rpb24gaXNDSSgpIHtcblx0cmV0dXJuIGVudi5DSSAhPT0gXCJmYWxzZVwiICYmIChcIkJVSUxEX0lEXCIgaW4gZW52IHx8IFwiQlVJTERfTlVNQkVSXCIgaW4gZW52IHx8IFwiQ0lcIiBpbiBlbnYgfHwgXCJDSV9BUFBfSURcIiBpbiBlbnYgfHwgXCJDSV9CVUlMRF9JRFwiIGluIGVudiB8fCBcIkNJX0JVSUxEX05VTUJFUlwiIGluIGVudiB8fCBcIkNJX05BTUVcIiBpbiBlbnYgfHwgXCJDT05USU5VT1VTX0lOVEVHUkFUSU9OXCIgaW4gZW52IHx8IFwiUlVOX0lEXCIgaW4gZW52KTtcbn1cblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL2RldGVjdG9ycy9kZXRlY3QtcnVudGltZS50c1xuZnVuY3Rpb24gZGV0ZWN0UnVudGltZSgpIHtcblx0aWYgKHR5cGVvZiBEZW5vICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4ge1xuXHRcdG5hbWU6IFwiZGVub1wiLFxuXHRcdHZlcnNpb246IERlbm8/LnZlcnNpb24/LmRlbm8gPz8gbnVsbFxuXHR9O1xuXHRpZiAodHlwZW9mIEJ1biAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHtcblx0XHRuYW1lOiBcImJ1blwiLFxuXHRcdHZlcnNpb246IEJ1bj8udmVyc2lvbiA/PyBudWxsXG5cdH07XG5cdGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzPy52ZXJzaW9ucz8ubm9kZSkgcmV0dXJuIHtcblx0XHRuYW1lOiBcIm5vZGVcIixcblx0XHR2ZXJzaW9uOiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgPz8gbnVsbFxuXHR9O1xuXHRyZXR1cm4ge1xuXHRcdG5hbWU6IFwiZWRnZVwiLFxuXHRcdHZlcnNpb246IG51bGxcblx0fTtcbn1cbmZ1bmN0aW9uIGRldGVjdEVudmlyb25tZW50KCkge1xuXHRyZXR1cm4gZ2V0RW52VmFyKFwiTk9ERV9FTlZcIikgPT09IFwicHJvZHVjdGlvblwiID8gXCJwcm9kdWN0aW9uXCIgOiBpc0NJKCkgPyBcImNpXCIgOiBpc1Rlc3QoKSA/IFwidGVzdFwiIDogXCJkZXZlbG9wbWVudFwiO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvaGFzaC50c1xuYXN5bmMgZnVuY3Rpb24gaGFzaFRvQmFzZTY0KGRhdGEpIHtcblx0Y29uc3QgYnVmZmVyID0gYXdhaXQgY3JlYXRlSGFzaChcIlNIQS0yNTZcIikuZGlnZXN0KGRhdGEpO1xuXHRyZXR1cm4gYmFzZTY0LmVuY29kZShidWZmZXIpO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvaWQudHNcbmNvbnN0IGdlbmVyYXRlSWQgPSAoc2l6ZSkgPT4ge1xuXHRyZXR1cm4gY3JlYXRlUmFuZG9tU3RyaW5nR2VuZXJhdG9yKFwiYS16XCIsIFwiQS1aXCIsIFwiMC05XCIpKHNpemUgfHwgMzIpO1xufTtcblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL3Byb2plY3QtaWQudHNcbmxldCBwcm9qZWN0SWRDYWNoZWQgPSBudWxsO1xuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvamVjdElkKGJhc2VVcmwpIHtcblx0aWYgKHByb2plY3RJZENhY2hlZCkgcmV0dXJuIHByb2plY3RJZENhY2hlZDtcblx0Y29uc3QgcHJvamVjdE5hbWUgPSBhd2FpdCBnZXROYW1lRnJvbUxvY2FsUGFja2FnZUpzb24oKTtcblx0aWYgKHByb2plY3ROYW1lKSB7XG5cdFx0cHJvamVjdElkQ2FjaGVkID0gYXdhaXQgaGFzaFRvQmFzZTY0KGJhc2VVcmwgPyBiYXNlVXJsICsgcHJvamVjdE5hbWUgOiBwcm9qZWN0TmFtZSk7XG5cdFx0cmV0dXJuIHByb2plY3RJZENhY2hlZDtcblx0fVxuXHRpZiAoYmFzZVVybCkge1xuXHRcdHByb2plY3RJZENhY2hlZCA9IGF3YWl0IGhhc2hUb0Jhc2U2NChiYXNlVXJsKTtcblx0XHRyZXR1cm4gcHJvamVjdElkQ2FjaGVkO1xuXHR9XG5cdHByb2plY3RJZENhY2hlZCA9IGdlbmVyYXRlSWQoMzIpO1xuXHRyZXR1cm4gcHJvamVjdElkQ2FjaGVkO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvaW5kZXgudHNcbmNvbnN0IG5vb3AgPSBhc3luYyBmdW5jdGlvbiBub29wJDEoKSB7fTtcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRlbGVtZXRyeShvcHRpb25zLCBjb250ZXh0KSB7XG5cdGNvbnN0IGRlYnVnRW5hYmxlZCA9IG9wdGlvbnMudGVsZW1ldHJ5Py5kZWJ1ZyB8fCBnZXRCb29sZWFuRW52VmFyKFwiQkVUVEVSX0FVVEhfVEVMRU1FVFJZX0RFQlVHXCIsIGZhbHNlKTtcblx0Y29uc3QgdGVsZW1ldHJ5RW5kcG9pbnQgPSBFTlYuQkVUVEVSX0FVVEhfVEVMRU1FVFJZX0VORFBPSU5UO1xuXHRpZiAoIXRlbGVtZXRyeUVuZHBvaW50ICYmICFjb250ZXh0Py5jdXN0b21UcmFjaykgcmV0dXJuIHsgcHVibGlzaDogbm9vcCB9O1xuXHRjb25zdCB0cmFjayA9IGFzeW5jIChldmVudCkgPT4ge1xuXHRcdGlmIChjb250ZXh0Py5jdXN0b21UcmFjaykgYXdhaXQgY29udGV4dC5jdXN0b21UcmFjayhldmVudCkuY2F0Y2gobG9nZ2VyLmVycm9yKTtcblx0XHRlbHNlIGlmICh0ZWxlbWV0cnlFbmRwb2ludCkgaWYgKGRlYnVnRW5hYmxlZCkgbG9nZ2VyLmluZm8oXCJ0ZWxlbWV0cnkgZXZlbnRcIiwgSlNPTi5zdHJpbmdpZnkoZXZlbnQsIG51bGwsIDIpKTtcblx0XHRlbHNlIGF3YWl0IGJldHRlckZldGNoKHRlbGVtZXRyeUVuZHBvaW50LCB7XG5cdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0Ym9keTogZXZlbnRcblx0XHR9KS5jYXRjaChsb2dnZXIuZXJyb3IpO1xuXHR9O1xuXHRjb25zdCBpc0VuYWJsZWQgPSBhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdGVsZW1ldHJ5RW5hYmxlZCA9IG9wdGlvbnMudGVsZW1ldHJ5Py5lbmFibGVkICE9PSB2b2lkIDAgPyBvcHRpb25zLnRlbGVtZXRyeS5lbmFibGVkIDogZmFsc2U7XG5cdFx0cmV0dXJuIChnZXRCb29sZWFuRW52VmFyKFwiQkVUVEVSX0FVVEhfVEVMRU1FVFJZXCIsIGZhbHNlKSB8fCB0ZWxlbWV0cnlFbmFibGVkKSAmJiAoY29udGV4dD8uc2tpcFRlc3RDaGVjayB8fCAhaXNUZXN0KCkpO1xuXHR9O1xuXHRjb25zdCBlbmFibGVkID0gYXdhaXQgaXNFbmFibGVkKCk7XG5cdGxldCBhbm9ueW1vdXNJZDtcblx0aWYgKGVuYWJsZWQpIHtcblx0XHRhbm9ueW1vdXNJZCA9IGF3YWl0IGdldFByb2plY3RJZChvcHRpb25zLmJhc2VVUkwpO1xuXHRcdHRyYWNrKHtcblx0XHRcdHR5cGU6IFwiaW5pdFwiLFxuXHRcdFx0cGF5bG9hZDoge1xuXHRcdFx0XHRjb25maWc6IGdldFRlbGVtZXRyeUF1dGhDb25maWcob3B0aW9ucywgY29udGV4dCksXG5cdFx0XHRcdHJ1bnRpbWU6IGRldGVjdFJ1bnRpbWUoKSxcblx0XHRcdFx0ZGF0YWJhc2U6IGF3YWl0IGRldGVjdERhdGFiYXNlKCksXG5cdFx0XHRcdGZyYW1ld29yazogYXdhaXQgZGV0ZWN0RnJhbWV3b3JrKCksXG5cdFx0XHRcdGVudmlyb25tZW50OiBkZXRlY3RFbnZpcm9ubWVudCgpLFxuXHRcdFx0XHRzeXN0ZW1JbmZvOiBhd2FpdCBkZXRlY3RTeXN0ZW1JbmZvKCksXG5cdFx0XHRcdHBhY2thZ2VNYW5hZ2VyOiBkZXRlY3RQYWNrYWdlTWFuYWdlcigpXG5cdFx0XHR9LFxuXHRcdFx0YW5vbnltb3VzSWRcblx0XHR9KTtcblx0fVxuXHRyZXR1cm4geyBwdWJsaXNoOiBhc3luYyAoZXZlbnQpID0+IHtcblx0XHRpZiAoIWVuYWJsZWQpIHJldHVybjtcblx0XHRpZiAoIWFub255bW91c0lkKSBhbm9ueW1vdXNJZCA9IGF3YWl0IGdldFByb2plY3RJZChvcHRpb25zLmJhc2VVUkwpO1xuXHRcdGF3YWl0IHRyYWNrKHtcblx0XHRcdHR5cGU6IGV2ZW50LnR5cGUsXG5cdFx0XHRwYXlsb2FkOiBldmVudC5wYXlsb2FkLFxuXHRcdFx0YW5vbnltb3VzSWRcblx0XHR9KTtcblx0fSB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGNyZWF0ZVRlbGVtZXRyeSwgZ2V0VGVsZW1ldHJ5QXV0aENvbmZpZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@better-auth+telemetry@1.4._c11636a3ce6f8b05864a09e345ba4713/node_modules/@better-auth/telemetry/dist/index.mjs\n");

/***/ })

};
;